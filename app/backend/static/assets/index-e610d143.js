import{bB as Me,bC as dn,bD as t,bE as Je,bF as un,bG as pn,bH as hn,bI as L,r as l,bJ as jt,bK as mn,bL as gn,bM as se,bN as F,bO as fn,bP as It,bQ as pt,bR as xn,bS as bn,bT as Sn,bU as yn,bV as wn,bW as vn,bX as Cn,bY as _n,bZ as Tn,b_ as kn,b$ as jn,c0 as In,c1 as Pn}from"./vendor-fba11e89.js";import{e as En,E as Fn,M as ht,f as An,D as Ln,g as Nn}from"./fluentui-icons-3403ab2e.js";import{I as ne,S as B,P as Bn,T as mt,B as oe,c as gt,L as Pt,D as $n,a as Mn,b as ft,d as Rn,e as Gn,f as On,u as Dn,g as _,C as Et,h as Ye,i as he,j as Be,k as Un,l as de,m as Ft,n as zn,M as Hn,o as Vn,p as qn,q as Qn,r as De,s as we}from"./fluentui-react-1f84205d.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=s(a);fetch(a.href,r)}})();const Wn="_container_1beii_1",Kn="_chatRoot_1beii_13",Jn="_chatContainer_1beii_23",Yn="_chatEmptyState_1beii_39",Xn="_chatEmptyStateTitle_1beii_59",Zn="_chatEmptyStateSubtitle_1beii_73",es="_chatMessageStream_1beii_83",ts="_chatMessageGpt_1beii_129",ns="_chatMessageGptMinWidth_1beii_141",ss="_chatInput_1beii_151",os="_chatAnalysisPanel_1beii_165",as="_loadingLogo_1beii_181",rs="_commandsContainer_1beii_189",is="_commandButton_1beii_201",ls="_gskLogo_1beii_209",O={container:Wn,chatRoot:Kn,chatContainer:Jn,chatEmptyState:Yn,chatEmptyStateTitle:Xn,chatEmptyStateSubtitle:Zn,chatMessageStream:es,chatMessageGpt:ts,chatMessageGptMinWidth:ns,chatInput:ss,chatAnalysisPanel:os,loadingLogo:as,commandsContainer:rs,commandButton:is,gskLogo:ls},cs=".auth/me",ds=".auth/refresh",us=".auth/logout?post_logout_redirect_uri=/";async function ps(){const e=await fetch("/auth_setup");if(!e.ok)throw new Error(`auth setup response was not ok: ${e.status}`);return await e.json()}const xe=await ps(),le=xe.useLogin,_e=xe.requireAccessControl,hs=xe.enableUnauthenticatedAccess,ms=_e&&!hs,gs=xe.msalConfig,fs=xe.loginRequest,xs=xe.tokenRequest,At=()=>window.location.origin+xe.msalConfig.auth.redirectUri;globalThis.cachedAppServicesToken=null;const je=()=>{const e=s=>{const o=new Date;return new Date(s.expires_on)>o};if(globalThis.cachedAppServicesToken&&e(globalThis.cachedAppServicesToken))return Promise.resolve(globalThis.cachedAppServicesToken);const n=()=>fetch(cs).then(s=>s.ok?s.json().then(o=>o.length>0?(console.log("APP SERVICES JSON",o),{id_token:o[0].id_token,access_token:o[0].access_token,user_claims:o[0].user_claims.reduce((a,r)=>(a[r.typ]=r.val,a),{}),expires_on:o[0].expires_on}):null):null);return n().then(s=>s?e(s)?(globalThis.cachedAppServicesToken=s,s):fetch(ds).then(o=>o.ok?n():null):null)},bs=await je()!=null,Ss=()=>{window.location.href=us},We=async e=>!!(e&&e.getActiveAccount()||await je()),V=async e=>{const n=await je();return n?Promise.resolve(n.access_token):e.acquireTokenSilent({...xs,redirectUri:At()}).then(s=>s.accessToken).catch(s=>{console.log(s)})},Ne=async e=>{const n=e.getActiveAccount();if(n)return console.log("username from activeAccount: ",n),n.username;const s=await je();return s?.user_claims?(console.log("username from appServicesToken: ",s.user_claims),s.user_claims.preferred_username):(console.log("null username"),null)},ys=async e=>{const n=e.getActiveAccount();if(n)return n.idTokenClaims;const s=await je();if(s)return s.user_claims},Xe="";async function q(e){return le&&!bs&&e?{Authorization:`Bearer ${e}`}:{}}async function ws(){const n=await(await fetch("/admin_user",{method:"GET"})).json();return console.log("Response of admin user api",n),n}async function vs(){return await(await fetch(`${Xe}/config`,{method:"GET"})).json()}async function Cs(e,n,s){let o=`${Xe}/chat`;n&&(o+="/stream");const a=await q(s);return console.log("Sending Chat request"),await fetch(o,{method:"POST",headers:{...a,"Content-Type":"application/json"},body:JSON.stringify(e)})}async function _s(e){return await fetch("/speech",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e})}).then(n=>n.status==200?n.blob():n.status==400?(console.log("Speech synthesis is not enabled."),null):(console.error("Unable to get speech synthesis."),null)).then(n=>n?URL.createObjectURL(n):null)}function Lt(e){return`${Xe}/content/${e}`}async function Ts(e,n){const s=await fetch("/upload",{method:"POST",headers:await q(n),body:e});if(!s.ok)throw new Error(`Uploading files failed: ${s.statusText}`);return await s.json()}async function Nt(e,n,s){const o=await q(s),a=await fetch("/upload",{method:"DELETE",headers:{...o,"Content-Type":"application/json"},body:JSON.stringify({filename:e,chatId:n})});if(!a.ok)throw new Error(`Deleting file failed: ${a.statusText}`);return await a.json()}async function ks(e,n){const s=await fetch(`/list_uploaded/${e}`,{method:"GET",headers:await q(n)});if(!s.ok)throw new Error(`Listing files failed: ${s.statusText}`);return await s.json()}async function js(e){const n=await fetch("/list_uploaded",{method:"GET",headers:await q(e)});if(!n.ok)throw new Error(`Listing files failed: ${n.statusText}`);return await n.json()}var D=(e=>(e.Hybrid="hybrid",e.Vectors="vectors",e.Text="text",e))(D||{}),ie=(e=>(e.TextAndImages="textAndImages",e.Images="images",e.Texts="texts",e))(ie||{}),Y=(e=>(e.Embedding="embedding",e.ImageEmbedding="imageEmbedding",e.Both="both",e))(Y||{});async function Is(e){const n=await q(e),s=await fetch("/chats",{method:"GET",headers:{...n,"Content-Type":"application/json"}});if(!s.ok)throw new Error(`Getting chat history failed: ${s}`);return await s.json()}async function Ps(e,n){const s=await q(e),o=await fetch(`/chats/${n}`,{method:"GET",headers:{...s,"Content-Type":"application/json"}});if(!o.ok)throw new Error(`Getting chat failed: ${o}`);return await o.json()}async function Es(e,n,s,o){return await Bt(e,JSON.stringify({answers:s,id:n}))}async function Fs(e,n,s){return await Bt(e,JSON.stringify({title:s,id:n}))}async function Bt(e,n){const s=await q(e),o=await fetch("/chats",{method:"PUT",headers:{...s,"Content-Type":"application/json"},body:n});if(!o.ok)throw new Error(`Updating chat history failed: ${o}`);return await o.json()}async function As(e,n){const s=await q(e),a=await fetch(`/chats/${n}`,{method:"DELETE",headers:{...s,"Content-Type":"application/json"}});if(!a.ok)throw console.log(a),new Error("Deleting chat failed:");return a}async function Ls(e,n,s){const o=await q(e),a=n,r=await fetch("/chats",{method:"POST",headers:{...o,"Content-Type":"application/json"},body:JSON.stringify({answers:s,id:a})});if(!r.ok)throw new Error(`Posting chat history failed: ${r}`);return await r.json()}async function Ns(e){const n=await e.blob(),s=window.URL.createObjectURL(n),o=e.headers.get("content-disposition")?.split("filename=")[1];if(o){const a=o.replace(/"/g,""),r=document.createElement("a");r.href=s,r.download=a,r.click(),window.URL.revokeObjectURL(s)}}async function Bs(e,n){if(!["word","excel"].includes(n))throw new Error(`Given file type: '${n}' not valid or supported`);const o=await fetch(`/convert_to_${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({html:e})});if(!o.ok)throw new Error(`Converting to ${n} doc failed: ${o.statusText}`);return o}async function $s(e){const n=await fetch(`/${e}`,{method:"GET"});if(!n.ok)throw new Error(`Deleting file failed: ${n.statusText}`);return n}const $t=async(e,n)=>{const s=await Bs(e,n);await Ns(s),(await $s(`delete_${n}_file`)).ok?console.log(`Deleted ${n} file after downloading`):console.log(`Failed to delete ${n} file after downloading`)},xt=async e=>{const n=Me.parse(e.message.content);await $t(n,"word")},bt=async e=>{var n;e.message.content.includes("```")?n=e.message.content:n=Me.parse(e.message.content),await $t(n,"excel")},Ms="_answerContainer_1lpt6_1",Rs="_answerLogo_1lpt6_21",Gs="_answerText_1lpt6_29",Os="_selected_1lpt6_67",Ds="_citationLearnMore_1lpt6_75",Us="_citation_1lpt6_75",zs="_followupQuestionsList_1lpt6_119",Hs="_followupQuestionLearnMore_1lpt6_127",Vs="_followupQuestion_1lpt6_119",qs="_supContainer_1lpt6_165",Qs="_retryButton_1lpt6_223",Ws="_loadingdots_1lpt6_267",Ks="_loading_1lpt6_267",z={answerContainer:Ms,answerLogo:Rs,answerText:Gs,selected:Os,citationLearnMore:Ds,citation:Us,followupQuestionsList:zs,followupQuestionLearnMore:Hs,followupQuestion:Vs,supContainer:qs,retryButton:Qs,loadingdots:Ws,loading:Ks};function Js(e,n,s){const o=[];let a=e.trim();if(n){let i=a.length;for(let c=a.length-1;c>=0&&a[c]!=="]";c--)if(a[c]==="["){i=c;break}a=a.substring(0,i)}return{answerHtml:a.split(/\[([^\]]+)\]/g).map((i,u)=>{if(u%2===0)return i;{let c;o.indexOf(i)!==-1?c=o.indexOf(i)+1:(o.push(i),c=o.length);const p=Lt(i);return dn(t.jsx("a",{className:"supContainer",title:i,onClick:()=>s(p),children:t.jsx("sup",{children:c})}))}}).join(""),citations:o}}const Mt=()=>t.jsx(En,{primaryFill:"#66b5c3","aria-hidden":"true","aria-label":"Answer logo"}),Ys={lowercase:Xs,uppercase:Zs,datetime:eo,number:Gt,currency:to};function Xs(e){return e.toLowerCase()}function Zs(e){return e.toUpperCase()}function Rt(e){switch(e){case"en":return"en-US";case"de":return"de-DE";case"es":return"es-ES";case"fr":return"fr-FR";default:return e}}function eo(e,n,s){return new Intl.DateTimeFormat(Rt(n),s).format(e)}function Gt(e,n,s){return new Intl.NumberFormat(Rt(n),s).format(e)}function to(e,n,s){return Gt(e,n,{style:"currency",...s})}const no="GSK-GPT",so="Chat",oo="Ask a question",ao="Login",ro="Logout",io="Change title",lo="Start new chat",co={fileLabel:"Upload file:",uploadedFilesLabel:"Previously uploaded files:",noFilesUploaded:"No files uploaded yet",loading:"Loading...",manageFileUploads:"Manage file uploads",uploadingFiles:"Uploading files...",uploadedFileError:"Error uploading file - please try again or contact admin.",uploadedFileSuccess:"File successfully uploaded.",deleteFile:"Delete file",deletingFile:"Deleting file...",errorDeleting:"Error deleting.",fileDeleted:"File deleted"},uo="Developer settings",po="GSK-GPT",ho="Your intelligent AI-Assistant",mo={1:"What is included in my Northwind Health Plus plan that is not in standard?",2:"What happens in a performance review?",3:"What does a Product Manager do?",placeholder:"Type a new question | Send with Enter"},go="Ask your data",fo={1:"Compare the impact of interest rates and GDP in financial markets.",2:"What is the expected trend for the S&P 500 index over the next five years? Compare it to the past S&P 500 performance",3:"Can you identify any correlation between oil prices and stock market trends?",placeholder:"Example: Does my plan cover annual eye exams?"},xo="Generating answer",bo={submitQuestion:"Submit question",askWithVoice:"Ask question with voice",stopRecording:"Stop recording question",showThoughtProcess:"Show thought process",showSupportingContent:"Show supporting content",speakAnswer:"Speak answer",info:"Info",save:"Save"},So={thoughtProcess:"Thought Process",supportingContent:"Supporting Content",citation:"Citation"},yo={today:"Today",lastWeek:"Last Week",older:"Older",loadingHistory:"Loading chat history..."},wo={languagePicker:"Select your language",headerText:"Configure answer generation",closeButton:"Close",promptTemplate:"Override prompt template",temperature:"Temperature",minimumSearchScore:"Minimum search score",minimumRerankerScore:"Minimum reranker score",retrieveCount:"Retrieve this many search results:",excludeCategory:"Exclude category",useSemanticRanker:"Use semantic ranker for retrieval",useSemanticCaptions:"Use semantic captions",useSuggestFollowupQuestions:"Suggest follow-up questions",useGPT4V:"Use GPT vision model",gpt4VInput:{label:"GPT vision model inputs",options:{textAndImages:"Images and text",images:"Images",texts:"Text"}},retrievalMode:{label:"Retrieval mode",options:{hybrid:"Vectors + Text (Hybrid)",vectors:"Vectors",texts:"Text"}},vector:{label:"Vector fields (Multi-query vector search)",options:{embedding:"Text Embeddings",imageEmbedding:"Image Embeddings",both:"Text and Image embeddings"}},useOidSecurityFilter:"Use oid security filter",useGroupsSecurityFilter:"Use groups security filter",shouldStream:"Stream chat completion responses"},vo={promptTemplate:"Overrides the prompt used to generate the answer based on the question and search results. To append to existing prompt instead of replace whole prompt, start your prompt with '>>>'.",temperature:"Sets the temperature of the request to the LLM that generates the answer. Higher temperatures result in more creative responses, but they may be less grounded.",seed:"Sets a seed to improve the reproducibility of the model's responses. The seed can be any integer.",searchScore:"Sets a minimum score for search results coming back from Azure AI search. The score range depends on whether you're using hybrid (default), vectors only, or text only.",rerankerScore:"Sets a minimum score for search results coming back from the semantic reranker. The score always ranges between 0-4. The higher the score, the more semantically relevant the result is to the question.",retrieveNumber:"Sets the number of search results to retrieve from Azure AI search. More results may increase the likelihood of finding the correct answer, but may lead to the model getting 'lost in the middle'.",excludeCategory:"Specifies a category to exclude from the search results. There are no categories used in the default data set.",useSemanticReranker:"Enables the Azure AI Search semantic ranker, a model that re-ranks search results based on semantic similarity to the user's query.",useSemanticCaptions:"Sends semantic captions to the LLM instead of the full search result. A semantic caption is extracted from a search result during the process of semantic ranking.",suggestFollowupQuestions:"Asks the LLM to suggest follow-up questions based on the user's query.",useGPT4Vision:"Uses GPT-4-Turbo with Vision to generate responses based on images and text from the index.",vectorFields:"Specifies which embedding fields in the Azure AI Search Index will be searched, both the 'Images and text' embeddings, 'Images' only, or 'Text' only.",gpt4VisionInputs:"Sets what will be sent to the vision model. 'Images and text' sends both images and text to the model, 'Images' sends only images, and 'Text' sends only text.",retrievalMode:"Sets the retrieval mode for the Azure AI Search query. `Vectors + Text (Hybrid)` uses a combination of vector search and full text search, `Vectors` uses only vector search, and `Text` uses only full text search. Hybrid is generally optimal.",streamChat:"Continuously streams the response to the chat UI as it is generated.",useOidSecurityFilter:"Filter search results based on the authenticated user's OID.",useGroupsSecurityFilter:"Filter search results based on the authenticated user's groups."},Co={load:"Load Prompts",save:"Save Prompts",woche:"Share Prompt"},_o={title:"Save Prompt",name:"Name",namePlaceholder:"Enter a short name for your prompt",promptHeader:"Prompt Text",promptHeaderPlaceholder:"Enter the text for the prompt",save:"Save",cancel:"Cancel"},To={copy:"Copy",wordExport:"Export to Word Document",excelExport:"Export to Excel Document",thoughtProcess:"Show throught process",supportingContent:"Show supporting content"},ko={pageTitle:no,chat:so,qa:oo,login:ao,logout:ro,delete:"Delete",updateTitle:io,clearChat:lo,upload:co,developerSettings:uo,chatEmptyStateTitle:po,chatEmptyStateSubtitle:ho,defaultExamples:mo,askTitle:go,gpt4vExamples:fo,generatingAnswer:xo,tooltips:bo,headerTexts:So,chatHistory:yo,labels:wo,helpTexts:vo,promptButtons:Co,savePrompt:_o,answerButtons:To},jo="GSK-GPT",Io="Chat",Po="Frage stellen",Eo="Anmelden",Fo="Abmelden",Ao="Titel ändern",Lo="Neuen Chat starten",No={fileLabel:"Datei hochladen:",uploadedFilesLabel:"Bereits hochgeladene Dateien:",noFilesUploaded:"Noch keine Dateien hochgeladen",loading:"Wird geladen...",manageFileUploads:"Datei-Uploads verwalten",uploadingFiles:"Dateien werden hochgeladen...",uploadedFileError:"Fehler beim Hochladen der Datei - bitte versuchen Sie es erneut oder kontaktieren Sie den Administrator.",uploadedFileSuccess:"Datei erfolgreich hochgeladen.",deleteFile:"Datei löschen",deletingFile:"Datei wird gelöscht...",errorDeleting:"Fehler beim Löschen.",fileDeleted:"Datei gelöscht"},Bo="Entwicklereinstellungen",$o="GSK-GPT",Mo="Ihr intelligenter KI-Assistent",Ro={1:"Beispiel 1",2:"Beispiel 2",3:"Beispiel 3",placeholder:"Geben Sie eine neue Frage ein | Absenden mit Enter"},Go="Fragen Sie Ihre Daten",Oo={1:"Frage 1",2:"Frage 2",3:"Frage 3",placeholder:"Beispiel: xxxx"},Do="Antwort wird generiert",Uo={submitQuestion:"Frage einreichen",askWithVoice:"Frage per Sprache stellen",stopRecording:"Aufnahme der Frage stoppen",showThoughtProcess:"Gedankenprozess anzeigen",showSupportingContent:"Unterstützenden Inhalt anzeigen",speakAnswer:"Antwort sprechen",info:"Info",save:"Speichern"},zo={thoughtProcess:"Gedankenprozess",supportingContent:"Unterstützender Inhalt",citation:"Zitat"},Ho={today:"Heute",lastWeek:"Letzte Woche",older:"Älter",loadingHistory:"Verlauf wird geladen..."},Vo={languagePicker:"Sprache auswählen",headerText:"Antwortgenerierung konfigurieren",closeButton:"Schließen",promptTemplate:"Prompt-Vorlage überschreiben",temperature:"Temperatur",minimumSearchScore:"Mindest-Suchscore",minimumRerankerScore:"Mindest-Reranker-Score",retrieveCount:"Diese Anzahl an Suchergebnissen abrufen:",excludeCategory:"Kategorie ausschließen",useSemanticRanker:"Semantischen Ranker für die Suche verwenden",useSemanticCaptions:"Semantische Beschreibungen verwenden",useSuggestFollowupQuestions:"Folgefragen vorschlagen",useGPT4V:"GPT-Vision-Modell verwenden",gpt4VInput:{label:"Eingaben des GPT-Vision-Modells",options:{textAndImages:"Bilder und Text",images:"Bilder",texts:"Text"}},retrievalMode:{label:"Abrufmodus",options:{hybrid:"Vektoren + Text (Hybrid)",vectors:"Vektoren",texts:"Text"}},vector:{label:"Vektorfelder (Multi-Query-Vektorsuche)",options:{embedding:"Text-Einbettungen",imageEmbedding:"Bild-Einbettungen",both:"Text- und Bild-Einbettungen"}},useOidSecurityFilter:"OID-Sicherheitsfilter verwenden",useGroupsSecurityFilter:"Gruppen-Sicherheitsfilter verwenden",shouldStream:"Antworten im Chat kontinuierlich streamen"},qo={promptTemplate:"Überschreibt den Prompt, der zur Generierung der Antwort basierend auf der Frage und den Suchergebnissen verwendet wird. Um den bestehenden Prompt zu ergänzen, anstatt den gesamten Prompt zu ersetzen, beginnen Sie Ihren Prompt mit '>>>'.",temperature:"Legt die Temperatur der Anfrage an das LLM fest, das die Antwort generiert. Höhere Temperaturen führen zu kreativeren Antworten, die jedoch weniger fundiert sein können.",seed:"Setzt einen Seed, um die Reproduzierbarkeit der Antworten des Modells zu verbessern. Der Seed kann eine beliebige Ganzzahl sein.",searchScore:"Setzt einen Mindestscore für Suchergebnisse aus der Azure AI-Suche. Der Score-Bereich hängt davon ab, ob Sie hybrid (Standard), nur Vektoren oder nur Text verwenden.",rerankerScore:"Setzt einen Mindestscore für Suchergebnisse aus dem semantischen Reranker. Der Score reicht immer von 0 bis 4. Je höher der Score, desto semantisch relevanter ist das Ergebnis für die Frage.",retrieveNumber:"Legt die Anzahl der Suchergebnisse fest, die aus der Azure AI-Suche abgerufen werden sollen. Mehr Ergebnisse erhöhen die Wahrscheinlichkeit, die richtige Antwort zu finden, können aber dazu führen, dass das Modell 'den Faden verliert'.",excludeCategory:"Gibt eine Kategorie an, die aus den Suchergebnissen ausgeschlossen werden soll. Es gibt keine Kategorien im Standarddatensatz.",useSemanticReranker:"Aktiviert den semantischen Ranker der Azure AI-Suche, ein Modell, das Suchergebnisse basierend auf semantischer Ähnlichkeit zur Benutzeranfrage neu ordnet.",useSemanticCaptions:"Sendet semantische Beschreibungen an das LLM anstelle des vollständigen Suchergebnisses. Eine semantische Beschreibung wird während des Prozesses des semantischen Rankings aus einem Suchergebnis extrahiert.",suggestFollowupQuestions:"Fordert das LLM auf, Folgefragen basierend auf der Benutzeranfrage vorzuschlagen.",useGPT4Vision:"Verwendet GPT-4-Turbo mit Vision, um Antworten basierend auf Bildern und Text aus dem Index zu generieren.",vectorFields:"Gibt an, welche Einbettungsfelder im Azure AI-Suchindex durchsucht werden, sowohl die Einbettungen für 'Bilder und Text', nur 'Bilder' oder nur 'Text'.",gpt4VisionInputs:"Legt fest, was an das Vision-Modell gesendet wird. 'Bilder und Text' sendet sowohl Bilder als auch Text an das Modell, 'Bilder' sendet nur Bilder und 'Text' sendet nur Text.",retrievalMode:"Legt den Abrufmodus für die Azure AI-Suchanfrage fest. `Vektoren + Text (Hybrid)` verwendet eine Kombination aus Vektorsuche und Volltextsuche, `Vektoren` verwendet nur die Vektorsuche und `Text` verwendet nur die Volltextsuche. Hybrid ist in der Regel optimal.",streamChat:"Streamt die Antwort kontinuierlich in die Chat-Benutzeroberfläche, während sie generiert wird.",useOidSecurityFilter:"Filtert Suchergebnisse basierend auf der OID des authentifizierten Benutzers.",useGroupsSecurityFilter:"Filtert Suchergebnisse basierend auf den Gruppen des authentifizierten Benutzers."},Qo={load:"Prompts Laden",save:"Prompt Speichern",woche:"Prompt Teilen"},Wo={title:"Prompt Speichern",name:"Name",namePlaceholder:"Geben Sie einen kurzen Namen für Ihren Prompt ein",promptHeader:"Prompt-Text",promptHeaderPlaceholder:"Geben Sie den Text für den Prompt ein",save:"Speichern",cancel:"Abbrechen"},Ko={copy:"Kopieren",wordExport:"Exportieren als Word Dokument",excelExport:"Exportieren als Excel Dokument",thoughtProcess:"Gedankenprozess anzeigen",supportingContent:"Unterstutzender Inhalt anzeigen"},Jo={pageTitle:jo,chat:Io,qa:Po,login:Eo,logout:Fo,delete:"Löschen",updateTitle:Ao,clearChat:Lo,upload:No,developerSettings:Bo,chatEmptyStateTitle:$o,chatEmptyStateSubtitle:Mo,defaultExamples:Ro,askTitle:Go,gpt4vExamples:Oo,generatingAnswer:Do,tooltips:Uo,headerTexts:zo,chatHistory:Ho,labels:Vo,helpTexts:qo,promptButtons:Qo,savePrompt:Wo,answerButtons:Ko},Yo="GSK-GPT",Xo="Chat",Zo="Haz una pregunta",ea="Iniciar sesión",ta="Cerrar sesión",na="Cambiar el título",sa="Borrar chat",oa={fileLabel:"Subir archivo:",uploadedFilesLabel:"Archivos subidos previamente:",noFilesUploaded:"No se han subido archivos todavía",loading:"Cargando...",manageFileUploads:"Administrar subidas de archivos",uploadingFiles:"Subiendo archivos...",uploadedFileError:"Error al subir el archivo - por favor, inténtalo de nuevo o contacta con el administrador.",uploadedFileSuccess:"Archivo subido correctamente.",deleteFile:"Eliminar archivo",deletingFile:"Eliminando archivo...",errorDeleting:"Error eliminando.",fileDeleted:"Archivo eliminado"},aa="Configuración del desarrollador",ra="GSK-GPT",ia="Pregunta cualquier cosa o prueba un ejemplo",la={1:"¿Qué está incluido en mi plan Northwind Health Plus que no está en el estándar?",2:"¿Qué sucede en una revisión de rendimiento?",3:"¿Qué hace un Gerente de producto?",placeholder:"Escribe una nueva pregunta | Enviar con Enter"},ca="Pregunta a tus datos",da={1:"Compara el impacto de las tasas de interés y el PIB en los mercados financieros.",2:"¿Cuál es la tendencia esperada para el índice S&P 500 en los próximos cinco años? Compáralo con el rendimiento pasado del S&P 500",3:"¿Puedes identificar alguna correlación entre los precios del petróleo y las tendencias del mercado de valores?",placeholder:"Ejemplo: ¿Mi plan cubre exámenes anuales de la vista?"},ua="generandoRespuesta",pa={submitQuestion:"Enviar pregunta",askWithVoice:"Realizar pregunta con voz",stopRecording:"Detener la grabación de la pregunta",showThoughtProcess:"Mostrar proceso de pensamiento",showSupportingContent:"Mostrar contenido de soporte",speakAnswer:"Hablar respuesta",info:"Información",save:"Guardar"},ha={thoughtProcess:"Proceso de Pensamiento",supportingContent:"Contenido de apoyo",citation:"Cita"},ma={today:"Hoy",lastWeek:"La semana pasada",older:"Anteriores",loadingHistory:"Cargando el historial..."},ga={headerText:"Configurar la generación de respuestas",closeButton:"Cerrar",promptTemplate:"Sobrescribir plantilla de aviso",temperature:"Temperatura",minimumSearchScore:"Puntaje mínimo de búsqueda",minimumRerankerScore:"Puntaje mínimo de re-clasificación",retrieveCount:"Recupera estos muchos resultados de búsqueda:",excludeCategory:"Excluir categoría",useSemanticRanker:"Usar clasificador semántico para la recuperación",useSemanticCaptions:"Usar subtítulos semánticos",useSuggestFollowupQuestions:"Sugerir preguntas de seguimiento",useGPT4V:"Usar modelo de visión GPT",gpt4VInput:{label:"Entradas del modelo de visión GPT",options:{textAndImages:"Imágenes y texto",images:"Imágenes",texts:"Texto"}},retrievalMode:{label:"Modo de recuperación",options:{hybrid:"Vectores + Texto (Híbrido)",vectors:"Vectores",texts:"Texto"}},vector:{label:"Campos de vector (Búsqueda de vector de múltiples consultas)",options:{embedding:"Incrustaciones de texto",imageEmbedding:"Incrustaciones de imagen",both:"Incrustaciones de texto e imagen"}},useOidSecurityFilter:"Usar filtro de seguridad oid",useGroupsSecurityFilter:"Usar filtro de seguridad degrupos",shouldStream:"Transmitir respuestas de finalización de chat en tiempo real"},fa={promptTemplate:"Sobrescribe el aviso utilizado para generar la respuesta basada en la pregunta y los resultados de la búsqueda. Para agregar al aviso existente en lugar de reemplazar todo el aviso, comienza tu aviso con '>>>'.",temperature:"Establece la temperatura de la solicitud al LLM que genera la respuesta. Temperaturas más altas dan como resultado respuestas más creativas, pero pueden ser menos realistas.",seed:"Define un número entero para mejorar la reproducibilidad de las respuestas del modelo. El número de semilla se utiliza para generar respuestas más consistentes. El número de semilla puede ser cualquier número.",searchScore:"Establece una puntuación mínima para los resultados de búsqueda que vuelven de Azure AI search. El rango de puntuaciones depende de si estás utilizando híbrido (predeterminado), solo vectores o solo texto.",rerankerScore:"Establece una puntuación mínima para los resultados de búsqueda que vuelven del re-clasificador semántico. La puntuación siempre varía entre 0-4. Cuanto mayor es la puntuación, más relevante es semánticamente el resultado a la pregunta.",retrieveNumber:"Establece el número de resultados de búsqueda para recuperar de Azure AI search. Más resultados pueden aumentar la probabilidad de encontrar la respuesta correcta, pero pueden provocar que el modelo se 'pierda en el medio'.",excludeCategory:"Especifica una categoría para excluir de los resultados de búsqueda. No se utilizan categorías en el conjunto de datos predeterminado.",useSemanticReranker:"Habilita el re-clasificador semántico de Azure AI Search, un modelo que re-clasifica los resultados de búsqueda basándose en la similitud semántica con la consulta del usuario.",useSemanticCaptions:"Envía subtítulos semánticos al LLM en lugar del resultado de búsqueda completo. Un subtítulo semántico se extrae de un resultado de búsqueda durante el proceso de clasificación semántica.",suggestFollowupQuestions:"Pide al LLM que sugiera preguntas de seguimiento basándose en la consulta del usuario.",useGPT4Vision:"Utiliza GPT-4-Turbo con Visión para generar respuestas basándose en imágenes y texto del índice.",vectorFields:"Especifica qué campos de incrustación en el índice de búsqueda de Azure AI se buscarán, tanto las incrustaciones de 'Imágenes y texto', solo 'Imagenes', o solo 'Texto'.",gpt4VisionInputs:"Establece lo que se enviará al modelo de visión. 'Imágenes y texto' envía tanto imágenes como texto al modelo, 'Imágenes' solo envía imágenes y 'Texto' solo envía texto.",retrievalMode:"Establece el modo de recuperación para la consulta de búsqueda de Azure AI. Vectores + Texto (Híbrido) utiliza una combinación de búsqueda vectorial y búsqueda de texto completo, Vectores utiliza solo la búsqueda vectorial y Texto utiliza solo la búsqueda de texto completo. Generalmente, el modo híbrido es óptimo.",streamChat:"Transmite continuamente la respuesta a la interfaz de usuario del chat mientras se genera.",useOidSecurityFilter:"Filtra los resultados de búsqueda en función del OID del usuario autenticado.",useGroupsSecurityFilter:"Filtra los resultados de búsqueda en función de los grupos del usuario autenticado."},xa={load:"Cargar indicaciones",save:"Guardar indicación",woche:"Enviar indicación"},ba={title:"Guardar Prompt",name:"Nombre",namePlaceholder:"Ingrese un nombre corto para su prompt",promptHeader:"Texto del Prompt",promptHeaderPlaceholder:"Ingrese el texto para el prompt",save:"Guardar",cancel:"Cancelar"},Sa={copy:"Copiar",wordExport:"Exportar a documento de Word",excelExport:"Exportar a documento de Excel",thoughtProcess:"Mostrar proceso de pensamiento",supportingContent:"Mostrar contenido de apoyo"},ya={pageTitle:Yo,chat:Xo,qa:Zo,login:ea,logout:ta,delete:"Eliminar",updateTitle:na,clearChat:sa,upload:oa,developerSettings:aa,chatEmptyStateTitle:ra,chatEmptyStateSubtitle:ia,defaultExamples:la,askTitle:ca,gpt4vExamples:da,generatingAnswer:ua,tooltips:pa,headerTexts:ha,chatHistory:ma,labels:ga,helpTexts:fa,promptButtons:xa,savePrompt:ba,answerButtons:Sa},wa="GSK-GPT",va="チャット",Ca="一問一答",_a="ログイン",Ta="ログアウト",ka="タイトル変更",ja="クリア",Ia={fileLabel:"ファイルをアップロード：",uploadedFilesLabel:"以前にアップロードしたファイル：",noFilesUploaded:"まだファイルがアップロードされていません",loading:"読み込み中...",manageFileUploads:"ファイルのアップロードを管理",uploadingFiles:"ファイルをアップロード中...",uploadedFileError:"ファイルのアップロードエラー - 再試行するか、管理者に連絡してください。",uploadedFileSuccess:"ファイルのアップロードに成功しました.",deleteFile:"ファイルを削除",deletingFile:"ファイルを削除中...",errorDeleting:"削除エラー。",fileDeleted:"ファイル削除済み"},Pa="高度な設定",Ea="GSK-GPT",Fa="何でも尋ねてみるか、例を試してみてください",Aa={1:"私のNorthwind Health Plusプランには標準プランには含まれていないものが何ですか？",2:"パフォーマンスレビューでは何が行われますか？",3:"プロダクトマネージャーの職務内容は何ですか？",placeholder:"新しい質問を入力してください"},La="データに質問します",Na={1:"金利とGDPの影響を金融市場で比較してみてください。",2:"次の5年間におけるS&P 500インデックスの予想トレンドは何ですか？過去のS&P 500のパフォーマンスと比較してみてください",3:"原油価格と株価動向の間に相関関係が見られますか？",placeholder:"例：私のプランは年に一度の目の検診をカバーしていますか？"},Ba="回答を生成中です",$a={submitQuestion:"質問を送信",askWithVoice:"音声で質問",stopRecording:"質問の録音を停止",showThoughtProcess:"思考プロセスを表示する",showSupportingContent:"関連する参照先を表示する",speakAnswer:"回答を話す",info:"情報",save:"保存"},Ma={thoughtProcess:"思考プロセス",supportingContent:"関連する参照先",citation:"引用"},Ra={today:"今日",lastWeek:"最近7日",older:"古い",loadingHistory:"履歴を読み込み中..."},Ga={headerText:"回答生成の設定",closeButton:"閉じる",promptTemplate:"プロンプトテンプレートを上書き",temperature:"温度",minimumSearchScore:"最小検索スコア",minimumRerankerScore:"最小再ランキングスコア",retrieveCount:"この数の検索結果を取得：",excludeCategory:"カテゴリを除外",useSemanticRanker:"取得のためにセマンティックランカーを使用",useSemanticCaptions:"セマンティックなキャプションを使用",useSuggestFollowupQuestions:"フォローアップの質問を提案",useGPT4V:"GPT Visionモデルを使用",gpt4VInput:{label:"GPTVisionモデルの入力",options:{textAndImages:"画像とテキスト",images:"画像",texts:"テキスト"}},retrievalMode:{label:"検索モード",options:{hybrid:"ベクトル + テキスト (ハイブリッド)",vectors:"ベクトル",texts:"テキスト"}},vector:{label:"ベクトルフィールド (マルチクエリベクトル検索)",options:{embedding:"テキスト埋め込み",imageEmbedding:"画像埋め込み",both:"テキストと画像の埋め込み"}},useOidSecurityFilter:"OIDセキュリティフィルターを使用",useGroupsSecurityFilter:"グループセキュリティフィルターを使用",shouldStream:"チャット完了応答をストリーム"},Oa={promptTemplate:"質問と検索結果に基づいて回答を生成するために使用されるプロンプトを上書きします。既存のプロンプトに追加する場合は、プロンプトを'>>>'で始めてください。",temperature:"回答を生成するLLMに対するリクエストの温度を設定します。温度が高いほど、よりクリエイティブな応答が得られますが、地に足ついていない可能性もあります。",seed:"モデルによる回答の再現性を高める種数を指定します。種数は任意の整数である必要があります。",searchScore:"Azure AI searchから戻ってくる検索結果の最小スコアを設定します。スコアの範囲は、ハイブリッド(デフォルト)、ベクトルのみ、またはテキストのみを使用しているかによります。",rerankerScore:"セマンティックリランカーから戻ってくる検索結果の最小スコアを設定します。スコアは常に0から4の間で変動します。スコアが高いほど、結果は質問とのセマンティックな関連性が高くなります。",retrieveNumber:"Azure AI searchから取得する検索結果の数を設定します。結果が多いほど正解を見つける可能性が上がるかもしれませんが、モデルが「迷子」になる可能性もあります。",excludeCategory:"検索結果から除外するカテゴリを指定します。デフォルトのデータセットではカテゴリは使用されていません。",useSemanticReranker:"Azure AI Searchのセマンティックランカーを有効にします。これは、ユーザーのクエリとセマンティックに似ているものに基づいて検索結果を再ランキングするモデルです。",useSemanticCaptions:"完全な検索結果ではなく、セマンティックキャプションをLLMに送信します。セマンティックキャプションは、セマンティックランク付けの処理中に検索結果から抽出されます。",suggestFollowupQuestions:"ユーザーのクエリに基づいてLLMにフォローアップの質問を提案させます。",useGPT4Vision:"インデックスからの画像とテキストに基づいて回答を生成するためにGPT-4-Turbo with Visionを使用します。",vectorFields:"Azure AI Search Indexのどの埋め込みフィールドを検索するかを指定します。'画像とテキスト'の埋め込み、'画像'のみ、または'テキスト'のみのいずれかです。",gpt4VisionInputs:"ビジョンモデルに何を送信するかを設定します。'画像とテキスト'は画像とテキストの両方をモデルに送信し、'画像'は画像のみを、'テキスト'はテキストのみを送信します。",retrievalMode:"Azure AI Searchクエリの取得モードを設定します。ベクトル+テキスト（ハイブリッド）はベクトル検索と全文検索の組み合わせを使用し、ベクトルはベクトル検索のみを、テキストは全文検索のみを使用します。ハイブリッドが一般的に最適です。",streamChat:"回答が生成されると、チャットUIに継続的にストリーム配信されます。",useOidSecurityFilter:"認証ユーザーのOIDに基づいて検索結果をフィルタリングします。",useGroupsSecurityFilter:"認証ユーザーのグループに基づいて検索結果をフィルタリングします。"},Da={load:"プロンプトを読み込む",save:"プロンプトを保存",woche:"プロンプトを送信"},Ua={title:"プロンプトを保存",name:"名前",namePlaceholder:"プロンプトの短い名前を入力してください",promptHeader:"プロンプトテキスト",promptHeaderPlaceholder:"プロンプトのテキストを入力してください",save:"保存",cancel:"キャンセル"},za={copy:"コピー",wordExport:"Wordドキュメントにエクスポート",excelExport:"Excelドキュメントにエクスポート",thoughtProcess:"思考過程を表示",supportingContent:"サポートコンテンツを表示"},Ha={pageTitle:wa,chat:va,qa:Ca,login:_a,logout:Ta,delete:"削除",updateTitle:ka,clearChat:ja,upload:Ia,developerSettings:Pa,chatEmptyStateTitle:Ea,chatEmptyStateSubtitle:Fa,defaultExamples:Aa,askTitle:La,gpt4vExamples:Na,generatingAnswer:Ba,tooltips:$a,headerTexts:Ma,chatHistory:Ra,labels:Ga,helpTexts:Oa,promptButtons:Da,savePrompt:Ua,answerButtons:za},Va="GSK-GPT",qa="Chat",Qa="Posez une question",Wa="Connexion",Ka="Déconnexion",Ja="Modifier le titre",Ya="Effacer le chat",Xa={fileLabel:"Télécharger le fichier:",uploadedFilesLabel:"Fichiers précédemment téléchargés:",noFilesUploaded:"Aucun fichier téléchargé pour le moment",loading:"Chargement...",manageFileUploads:"Gérer les téléchargements de fichiers",uploadingFiles:"Téléchargement de fichiers...",uploadedFileError:"Erreur lors du téléchargement du fichier - veuillez réessayer ou contacter l'administrateur.",uploadedFileSuccess:"Fichier telechargé avec successe.",deleteFile:"Supprimer le fichier",deletingFile:"Suppression du fichier...",errorDeleting:"Erreur lors de la suppression.",fileDeleted:"Fichier supprimé"},Za="Paramètres développeur",er="GSK-GPT",tr="Demandez n'importe quoi ou essayez un exemple",nr={1:"Qu'est-ce qui est inclus dans mon plan Northwind Health Plus qui n'est pas dans le standard?",2:"Qu'arrive-t-il lors d'un examen de performance?",3:"Qu'est-ce qu'un Product Manager fait?",placeholder:"Tapez une nouvelle question | Envoyer avec Entrée"},sr="Demandez à vos données",or={1:"Comparez l'impact des taux d'intérêt et du PIB sur les marchés financiers.",2:"Quelle est la tendance prévue pour l'indice S&P 500 au cours des cinq prochaines années? Comparez-le aux performances passées de l'S&P 500",3:"Pouvez-vous identifier une corrélation entre les prix du pétrole et les tendances du marché boursier?",placeholder:"Exemple: Mon plan couvre-t-il les examens oculaires annuels?"},ar="génération de la réponse",rr={submitQuestion:"Soumettre une question",askWithVoice:"Poser une question à l'aide de la voix",stopRecording:"Arrêter l'enregistrement de la question",showThoughtProcess:"Montrer le processus de réflexion",showSupportingContent:"Montrer le contenu de soutien",speakAnswer:"Parler réponse",info:"Info",save:"Sauvegarder"},ir={thoughtProcess:"Processus de Réflexion",supportingContent:"Contenu d'Appui",citation:"Citation"},lr={today:"Aujourd'hui",lastWeek:"La semaine derniere",older:"Plus ancienne",loadingHistory:"Chargement de l'historique..."},cr={headerText:"Configurer la génération de réponses",closeButton:"Fermer",promptTemplate:"Modèle de l'invite",temperature:"Température",minimumSearchScore:"Score de recherche minimum",minimumRerankerScore:"Score minimum du reranker",retrieveCount:"Récupérer ce nombre de résultats de recherche :",excludeCategory:"Exclure la catégorie",useSemanticRanker:"Utiliser le classement sémantique pour la récupération",useSemanticCaptions:"Utiliser les titres sémantiques",useSuggestFollowupQuestions:"Suggérer des questions de suivi",useGPT4V:"Utiliser le modèle GPT Vision",gpt4VInput:{label:"Entrées du modèle GPT Vision",options:{textAndImages:"Images et texte",images:"Images",texts:"Texte"}},retrievalMode:{label:"Mode de récupération",options:{hybrid:"Vecteurs + Texte (Hybride)",vectors:"Vecteurs",texts:"Texte"}},vector:{label:"Champs de vecteur (recherche de vecteur multi-requête)",options:{embedding:"Incorporations de texte",imageEmbedding:"Incorporations d'images",both:"Incorporations de texte et d'images"}},useOidSecurityFilter:"Utiliser le filtre de sécurité oid",useGroupsSecurityFilter:"Utiliser le filtre de sécurité de groupe",shouldStream:"Streamer les réponses du chat"},dr={promptTemplate:"Remplace le prompt utilisé pour générer la réponse en fonction de la question et des résultats de la recherche. Pour ajouter à l'invite existante au lieu de remplacer l'invite entière, commencez votre invite par '>>>'.",temperature:"Définit la température de la requête à l'LLM qui génère la réponse. Des températures plus élevées donnent lieu à des réponses plus créatives, mais elles peuvent être moins ancrées.",seed:"Détermine un numéro premier qui servira à améliorer la répétabilité des réponses du modèle. Le numéro premier doit être un entier quelconque.",searchScore:"Définit un score minimum pour les résultats de recherche provenant d'Azure AI Search. La plage de scores dépend si vous utilisez l'hybride (par défaut), uniquement les vecteurs, ou uniquement le texte.",rerankerScore:"Définit un score minimum pour les résultats de recherche provenant du reranker sémantique. Le score varie toujours entre 0 et 4. Plus le score est élevé, plus le résultat est sémantiquement pertinent par rapport à la question.",retrieveNumber:"Définit le nombre de résultats de recherche à récupérer d'Azure AI Search. Plus de résultats peuvent augmenter la probabilité de trouver la bonne réponse, mais peuvent amener le modèle à se 'perdre au milieu'.",excludeCategory:"Spécifie une catégorie à exclure des résultats de recherche. Il n'y a aucune catégorie utilisée dans l'ensemble de données par défaut.",useSemanticReranker:"Active le classement sémantique d'Azure AI Search, un modèle qui réorganise les résultats de recherche en fonction de la similarité sémantique avec la requête de l'utilisateur.",useSemanticCaptions:"Envoie des légendes sémantiques à l'LLM au lieu du résultat de recherche complet. Une légende sémantique est extraite d'un résultat de recherche lors du processus de classement sémantique.",suggestFollowupQuestions:"Demande à l'LLM de suggérer des questions de suivi en fonction de la requête de l'utilisateur.",useGPT4Vision:"Utilise GPT-4-Turbo avec Vision pour générer des réponses basées sur des images et du texte de l'index.",vectorFields:"Spécifie quels champs d'incorporation dans l'index de recherche Azure AI seront recherchés, à la fois les incorporations 'Images et texte', 'Images' seulement, ou 'Texte' seulement.",gpt4VisionInputs:"Définit ce qui sera envoyé au modèle de vision. 'Images et texte' envoie à la fois des images et du texte au modèle, 'Images' envoie seulement des images, et 'Texte' envoie seulement du texte.",retrievalMode:"Définit le mode de récupération pour la requête Azure AI Search. Vecteurs + Texte (Hybride) utilise une combinaison de recherche vectorielle et de recherche en texte intégral, Vecteurs utilise uniquement la recherche vectorielle, et Texte utilise uniquement la recherche en texte intégral. Hybride est généralement optimal.",streamChat:"Diffuse en continu la réponse à l'interface utilisateur du chat au fur et à mesure de sa génération.",useOidSecurityFilter:"Filtrez les résultats de recherche en fonction de l'OID de l'utilisateur authentifié.",useGroupsSecurityFilter:"Filtrez les résultats de recherche en fonction des groupes de l'utilisateur authentifié."},ur={load:"Charger les Prompts",save:"Enregistrer les Prompts",woche:"Envoyer le Prompt"},pr={title:"Enregistrer le Prompt",name:"Nom",namePlaceholder:"Entrez un nom court pour votre prompt",promptHeader:"Texte du Prompt",promptHeaderPlaceholder:"Entrez le texte pour le prompt",save:"Enregistrer",cancel:"Annuler"},hr={copy:"Copier",wordExport:"Exporter vers un document Word",excelExport:"Exporter vers un document Excel",thoughtProcess:"Afficher le processus de réflexion",supportingContent:"Afficher le contenu de soutien"},mr={pageTitle:Va,chat:qa,qa:Qa,login:Wa,logout:Ka,delete:"Supprimer",updateTitle:Ja,clearChat:Ya,upload:Xa,developerSettings:Za,chatEmptyStateTitle:er,chatEmptyStateSubtitle:tr,defaultExamples:nr,askTitle:sr,gpt4vExamples:or,generatingAnswer:ar,tooltips:rr,headerTexts:ir,chatHistory:lr,labels:cr,helpTexts:dr,promptButtons:ur,savePrompt:pr,answerButtons:hr},Re={en:{name:"English",locale:"en-US"},de:{name:"Deutsch",locale:"de-DE"},es:{name:"Español",locale:"es-ES"},fr:{name:"Français",locale:"fr-FR"}};Je.use(un).use(pn).use(hn).init({resources:{en:{translation:ko},de:{translation:Jo},es:{translation:ya},fr:{translation:mr},ja:{translation:Ha}},fallbackLng:"de",supportedLngs:Object.keys(Re),debug:!1,interpolation:{escapeValue:!1}});Object.entries(Ys).forEach(([e,n])=>{Je.services.formatter?.add(e,n)});const gr=window.speechSynthesis||window.webkitSpeechSynthesis;let ge=null;try{ge=gr}catch{console.error("SpeechSynthesis is not supported")}const fr=function(e,n){if(ge){const s=new SpeechSynthesisUtterance(e);return s.lang=n,s.volume=1,s.rate=1,s.pitch=1,s.voice=ge.getVoices().filter(o=>o.lang===n)[0],s}},xr=({answer:e})=>{const{t:n,i18n:s}=L(),o=s.language;let a=Re[o]?.locale;a||(a="en-US");const[r,d]=l.useState(!1),i=c=>{if(ge!=null){if(r){ge.cancel(),d(!1);return}const p=fr(c,a);if(!p)return;ge.speak(p),p.onstart=()=>{d(!0)},p.onend=()=>{d(!1)}}},u=r?"red":"black";return t.jsx(ne,{style:{color:u},iconProps:{iconName:"Volume3"},title:n("tooltips.speakAnswer"),ariaLabel:"Speak answer",onClick:()=>i(e),disabled:!ge})};let Fe=new Audio;const br=({url:e})=>{const[n,s]=l.useState(!1),{t:o}=L(),a=async()=>{if(n){Fe.pause(),s(!1);return}if(!e){console.error("Speech output is not yet available.");return}Fe=new Audio(e),await Fe.play(),Fe.addEventListener("ended",()=>{s(!1)}),s(!0)},r=n?"red":"black";return t.jsx(ne,{style:{color:r},iconProps:{iconName:"Volume3"},title:o("tooltips.speakAnswer"),ariaLabel:"Speak answer",onClick:()=>a(),disabled:!e})},St=({answer:e,isSelected:n,isStreaming:s,onExportWordClicked:o,onExportExcelClicked:a,onCitationClicked:r,onThoughtProcessClicked:d,onSupportingContentClicked:i,onFollowupQuestionClicked:u,onCopyClicked:c,showFollowupQuestions:p,showSpeechOutputAzure:x,showSpeechOutputBrowser:w,speechUrl:j})=>{const m=e.context?.followup_questions,v=e.message.content,f=l.useMemo(()=>Js(v,s,r),[e]),{t:b}=L(),P=jt.sanitize(f.answerHtml);return t.jsxs(B,{className:`${z.answerContainer} ${n&&z.selected}`,verticalAlign:"space-between",children:[t.jsx(B.Item,{children:t.jsxs(B,{horizontal:!0,horizontalAlign:"space-between",children:[t.jsx(Mt,{}),t.jsxs("div",{children:[t.jsx(ne,{style:{color:"black"},iconProps:{iconName:"WordDocument"},title:b("answerButtons.wordExport"),ariaLabel:b("answerButtons.wordExport"),onClick:()=>o(),disabled:!e.message.content?.length}),t.jsx(ne,{style:{color:"black"},iconProps:{iconName:"ExcelDocument"},title:b("answerButtons.excelExport"),ariaLabel:b("answerButtons.excelExport"),onClick:()=>a(),disabled:!e.message.content?.length}),t.jsx(ne,{style:{color:"black"},iconProps:{iconName:"Lightbulb"},title:b("answerButtons.thoughtProcess"),ariaLabel:b("answerButtons.thoughtProcess"),onClick:()=>d(),disabled:!e.context.thoughts?.length}),t.jsx(ne,{style:{color:"black"},iconProps:{iconName:"ClipboardList"},title:b("answerButtons.supportingContent"),ariaLabel:b("answerButtons.supportingContent"),onClick:()=>i(),disabled:!e.context.data_points}),t.jsx(ne,{style:{color:"black"},iconProps:{iconName:"Copy"},title:b("answerButtons.copy"),ariaLabel:b("answerButtons.copy"),onClick:()=>c(),disabled:!e.context.data_points}),x&&t.jsx(br,{url:j}),w&&t.jsx(xr,{answer:P})]})]})}),t.jsx(B.Item,{grow:!0,children:t.jsx("div",{className:z.answerText,dangerouslySetInnerHTML:{__html:Me.parse(P)}})}),!!f.citations.length&&t.jsx(B.Item,{children:t.jsxs(B,{horizontal:!0,wrap:!0,tokens:{childrenGap:5},children:[t.jsx("span",{className:z.citationLearnMore,children:"Citations:"}),f.citations.map((C,I)=>{const A=Lt(C);return t.jsx("a",{className:z.citation,title:C,onClick:()=>r(A),children:`${++I}. ${C}`},I)})]})}),!!m?.length&&p&&u&&t.jsx(B.Item,{children:t.jsxs(B,{horizontal:!0,wrap:!0,className:`${f.citations.length?z.followupQuestionsList:""}`,tokens:{childrenGap:6},children:[t.jsx("span",{className:z.followupQuestionLearnMore,children:"Follow-up questions:"}),m.map((C,I)=>t.jsx("a",{className:z.followupQuestion,title:C,onClick:()=>u(C),children:`${C}`},I))]})})]})},Sr=()=>{const{t:e,i18n:n}=L(),s=mn({from:{opacity:0},to:{opacity:1}});return t.jsx(gn.div,{style:{...s},children:t.jsxs(B,{className:z.answerContainer,verticalAlign:"space-between",children:[t.jsx(Mt,{}),t.jsx(B.Item,{grow:!0,children:t.jsxs("p",{className:z.answerText,children:[e("generatingAnswer"),t.jsx("span",{className:z.loadingdots})]})})]})})},yr=({error:e,onRetry:n})=>t.jsxs(B,{className:z.answerContainer,verticalAlign:"space-between",children:[t.jsx(Fn,{"aria-hidden":"true","aria-label":"Error icon",primaryFill:"red"}),t.jsx(B.Item,{grow:!0,children:t.jsx("p",{className:z.answerText,children:e})}),t.jsx(Bn,{className:z.retryButton,onClick:n,text:"Retry"})]}),wr="_questionInputContainer_1n7x1_1",vr="_questionInputTextArea_1n7x1_29",Cr="_questionInputButtonsContainer_1n7x1_55",Te={questionInputContainer:wr,questionInputTextArea:vr,questionInputButtonsContainer:Cr},_r=()=>{const{i18n:e}=L(),n=e.language;let s=Re[n]?.locale;s||(s="en-US");const o=window.SpeechRecognition||window.webkitSpeechRecognition;let a=null;try{a=new o,a!=null&&(a.lang=s,a.interimResults=!0)}catch{console.error("SpeechRecognition not supported"),a=null}return a},Tr=({updateQuestion:e})=>{let n=_r();const{t:s}=L(),[o,a]=l.useState(!1),r=()=>{if(n==null){console.error("SpeechRecognition not supported");return}n.onresult=i=>{let u="";for(const c of i.results)u+=c[0].transcript;e(u)},n.onend=()=>{a(!1)},n.onerror=i=>{n&&(n.stop(),i.error=="no-speech"?alert("No speech was detected. Please check your system audio settings and try again."):i.error=="language-not-supported"?alert(`Speech recognition error detected: ${i.error}. The speech recognition input functionality does not yet work on all browsers, like Edge in Mac OS X with ARM chips. Try another browser/OS.`):alert(`Speech recognition error detected: ${i.error}.`))},a(!0),n.start()},d=()=>{if(n==null){console.error("SpeechRecognition not supported");return}n.stop(),a(!1)};return n==null?t.jsx(t.Fragment,{}):t.jsxs(t.Fragment,{children:[!o&&t.jsx("div",{className:Te.questionInputButtonsContainer,children:t.jsx(mt,{content:s("tooltips.askWithVoice"),relationship:"label",children:t.jsx(oe,{size:"large",icon:t.jsx(ht,{primaryFill:"rgba(115, 118, 225, 1)"}),onClick:r})})}),o&&t.jsx("div",{className:Te.questionInputButtonsContainer,children:t.jsx(mt,{content:s("tooltips.stopRecording"),relationship:"label",children:t.jsx(oe,{size:"large",icon:t.jsx(ht,{primaryFill:"rgba(250, 0, 0, 0.7)"}),disabled:!o,onClick:d})})})]})},fe=l.createContext({loggedIn:!1,setLoggedIn:e=>{}}),kr="_iconImage_3iayi_1",jr="_promptButton_3iayi_8",yt={iconImage:kr,promptButton:jr},Ue=({toggleMenu:e,buttonRef:n,loggedIn:s,iconSource:o,iconAlt:a,text:r,className:d})=>t.jsx(oe,{ref:n,disabled:!s,icon:t.jsx("img",{src:o,alt:a,className:yt.iconImage}),onClick:e,className:`${yt.promptButton} ${d??""}`,children:r});function Ir(e){const n="CCD@gsk.de",s="Prompt der Woche",o=`Liebes CCD Team,

ich habe eine neue Prompt-Idee, die für andere nützlich sein könnte, und würde sie daher gerne für die Promptdatenbank einreichen:

"
${e}
"

Beste Grüße
`,a=`mailto:${n}?subject=${encodeURIComponent(s)}&body=${encodeURIComponent(o)}`;window.location.href=a}const Pr=({onSend:e,disabled:n,handlePlaceholder:s,placeholder:o,clearOnSend:a,initQuestion:r,showSpeechInput:d,toggleLoadPromptMenu:i,loadPromptButtonRef:u,toggleSavePromptMenu:c,savePromptButtonRef:p,questionHandler:x,question:w})=>{const j=l.useRef(null),{loggedIn:m}=l.useContext(fe),{t:v}=L();l.useEffect(()=>{r&&x(r)},[r]),l.useEffect(()=>{if(j.current){const I=j.current;I.style.height="auto",I.style.height=Math.min(I.scrollHeight,parseFloat(I.style.maxHeight))+"px"}},[w]);const f=()=>{n||!w.trim()||(e(w),a&&x(""))},b=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),f())},P=(I,A)=>{A?A.length<=1e4&&x(A):x("")},C=ms&&!m;return l.useEffect(()=>{s(m?v("defaultExamples.placeholder"):"Please login to continue...")},[m]),t.jsxs(B,{horizontal:!1,className:Te.questionInputContainer,style:{height:"auto"},children:[t.jsx("textarea",{ref:j,className:Te.questionInputTextArea,disabled:C,placeholder:o,value:w,onChange:I=>P(I,I.target.value),onKeyDown:b,rows:1,style:{resize:"none",overflowY:"auto",maxHeight:"200px"}}),t.jsx("div",{className:Te.questionInputButtonsContainer,children:m?t.jsxs(t.Fragment,{children:[t.jsx(Ue,{toggleMenu:i,buttonRef:u,loggedIn:m,iconSource:"./enter.svg",iconAlt:"LoadPromptIcon",text:v("promptButtons.load")}),t.jsx(Ue,{toggleMenu:c,buttonRef:p,loggedIn:m,iconSource:"./add-text.svg",iconAlt:"SavePromptIcon",text:v("promptButtons.save")}),t.jsx(Ue,{toggleMenu:()=>Ir(w),loggedIn:m,iconSource:"./send2.svg",iconAlt:"PromptDerWoche",text:v("promptButtons.woche")})]}):t.jsx(t.Fragment,{})}),d&&t.jsx(Tr,{updateQuestion:x})]})},Er="_container_1csyr_1",Fr="_message_1csyr_17",wt={container:Er,message:Fr},Ae=({message:e})=>t.jsx("div",{className:wt.container,children:t.jsx("div",{className:wt.message,children:e})}),Ar=()=>{const{instance:e}=se(),[n,s]=l.useState(void 0);l.useEffect(()=>{(async()=>{s(await ys(e))})()},[]);const o=i=>typeof i=="string"?i:JSON.stringify(i),r=(i=>Object.keys(i??{}).map(u=>{let c=u;try{const x=new URL(u).pathname.split("/");u=x[x.length-1]}catch{}return{name:u,value:o((i??{})[c])}}))(n),d=[gt({columnId:"name",compare:(i,u)=>i.name.localeCompare(u.name),renderHeaderCell:()=>"Name",renderCell:i=>i.name}),gt({columnId:"value",compare:(i,u)=>i.value.localeCompare(u.value),renderHeaderCell:()=>"Value",renderCell:i=>i.value})];return t.jsxs("div",{children:[t.jsx(Pt,{children:"ID Token Claims"}),t.jsxs($n,{items:r,columns:d,sortable:!0,getRowId:i=>i.name,children:[t.jsx(Mn,{children:t.jsx(ft,{children:({renderHeaderCell:i})=>t.jsx(Rn,{children:i()})})}),t.jsx(Gn,{children:({item:i,rowId:u})=>t.jsx(ft,{children:({renderCell:c})=>t.jsx(On,{children:c(i)})},u)})]})]})},Lr="_container_17evt_1",Nr={container:Lr},vt={childrenGap:4,maxWidth:300},Br={root:{padding:20}},$r={root:{marginBottom:-3}},Mr={iconName:"Info"},M=e=>{const[n,{toggle:s}]=Dn(!1),o=_("description"),a=_("iconButton"),{t:r}=L();return t.jsxs(t.Fragment,{children:[t.jsxs(B,{horizontal:!0,verticalAlign:"center",tokens:vt,children:[t.jsx("label",{id:e.labelId,htmlFor:e.fieldId,children:e.label}),t.jsx(ne,{id:a,iconProps:Mr,title:r("tooltips.info"),ariaLabel:"Info",onClick:s,styles:$r})]}),n&&t.jsx(Et,{target:"#"+a,setInitialFocus:!0,onDismiss:s,ariaDescribedBy:o,role:"alertdialog",children:t.jsxs(B,{tokens:vt,horizontalAlign:"start",styles:Br,children:[t.jsx("span",{id:o,children:e.helpText}),t.jsx(Ye,{onClick:s,children:r("labels.closeButton")})]})})]})},Rr=({updateGPT4VInputs:e,updateUseGPT4V:n,isUseGPT4V:s,gpt4vInputs:o})=>{const[a,r]=l.useState(s),[d,i]=l.useState(o||ie.TextAndImages),u=(v,f)=>{n(!!f),r(!!f)},c=(v,f)=>{if(f){const b=f.key;e(b||ie.TextAndImages),b&&i(b)}};l.useEffect(()=>{a&&e(ie.TextAndImages)},[a]);const p=_("useGPT4V"),x=_("useGPT4VField"),w=_("gpt4VInput"),j=_("gpt4VInputField"),{t:m}=L();return t.jsxs(B,{className:Nr.container,tokens:{childrenGap:10},children:[t.jsx(he,{id:x,checked:a,label:m("labels.useGPT4V"),onChange:u,"aria-labelledby":p,onRenderLabel:v=>t.jsx(M,{labelId:p,fieldId:x,helpText:m("helpTexts.useGPT4Vision"),label:v?.label})}),a&&t.jsx(Be,{id:j,selectedKey:d,label:m("labels.gpt4VInput.label"),options:[{key:ie.TextAndImages,text:m("labels.gpt4VInput.options.textAndImages")},{text:m("labels.gpt4VInput.options.images"),key:ie.Images},{text:m("labels.gpt4VInput.options.texts"),key:ie.Texts}],required:!0,onChange:c,"aria-labelledby":w,onRenderLabel:v=>t.jsx(M,{labelId:w,fieldId:j,helpText:m("helpTexts.gpt4VisionInputs"),label:v?.label})})]})},Gr="_container_17evt_1",Or={container:Gr},Dr=({updateRetrievalMode:e,updateVectorFields:n,showImageOptions:s,defaultRetrievalMode:o})=>{const[a,r]=l.useState(D.Hybrid),[d,i]=l.useState(Y.Both),u=(v,f)=>{r(f?.data||D.Hybrid),e(f?.data||D.Hybrid)},c=(v,f)=>{i(f?.key),n([f?.key])};l.useEffect(()=>{n(s?[Y.Embedding,Y.ImageEmbedding]:[Y.Embedding])},[s]);const p=_("retrievalMode"),x=_("retrievalModeField"),w=_("vectorFields"),j=_("vectorFieldsField"),{t:m}=L();return t.jsxs(B,{className:Or.container,tokens:{childrenGap:10},children:[t.jsx(Be,{id:x,label:m("labels.retrievalMode.label"),selectedKey:o.toString(),options:[{key:"hybrid",text:m("labels.retrievalMode.options.hybrid"),selected:a==D.Hybrid,data:D.Hybrid},{key:"vectors",text:m("labels.retrievalMode.options.vectors"),selected:a==D.Vectors,data:D.Vectors},{key:"text",text:m("labels.retrievalMode.options.texts"),selected:a==D.Text,data:D.Text}],required:!0,onChange:u,"aria-labelledby":p,onRenderLabel:v=>t.jsx(M,{labelId:p,fieldId:x,helpText:m("helpTexts.retrievalMode"),label:v?.label})}),s&&[D.Vectors,D.Hybrid].includes(a)&&t.jsx(Be,{id:j,label:m("labels.vector.label"),options:[{key:Y.Embedding,text:m("labels.vector.options.embedding"),selected:d===Y.Embedding},{key:Y.ImageEmbedding,text:m("labels.vector.options.imageEmbedding"),selected:d===Y.ImageEmbedding},{key:Y.Both,text:m("labels.vector.options.both"),selected:d===Y.Both}],onChange:c,"aria-labelledby":w,onRenderLabel:v=>t.jsx(M,{labelId:w,fieldId:j,helpText:m("helpTexts.vectorFields"),label:v?.label})})]})},Ur="_chatSettingsSeparator_odgtf_1",W={chatSettingsSeparator:Ur},zr=e=>{const{loggedIn:n}=l.useContext(fe),s=_("promptTemplate"),o=_("promptTemplateField"),a=_("temperature"),r=_("temperatureField"),d=_("seed"),i=_("seedField"),u=_("searchScore"),c=_("searchScoreField"),p=_("rerankerScore"),x=_("rerankerScoreField"),w=_("retrieveCount"),j=_("retrieveCountField"),m=_("excludeCategory"),v=_("excludeCategoryField"),f=_("semanticRanker"),b=_("semanticRankerField"),P=_("semanticCaptions"),C=_("semanticCaptionsField"),I=_("suggestFollowupQuestions"),A=_("suggestFollowupQuestionsField"),S=_("useOidSecurityFilter"),X=_("useOidSecurityFilterField"),K=_("useGroupsSecurityFilter"),k=_("useGroupsSecurityFilterField"),T=_("shouldStream"),$=_("shouldStreamField"),U=(h,E)=>{e.setChatConfig(Ie=>({...Ie,showSemanticRankerOption:!!E}))};return t.jsxs(Un,{headerText:F("labels.headerText"),isOpen:e.isConfigPanelOpen,isBlocking:!1,onDismiss:()=>e.setIsConfigPanelOpen(!1),closeButtonAriaLabel:F("labels.closeButton"),onRenderFooterContent:()=>t.jsx(Ye,{onClick:()=>e.setIsConfigPanelOpen(!1),children:F("labels.closeButton")}),isFooterAtBottom:!0,children:[t.jsx(de,{id:o,className:W.chatSettingsSeparator,defaultValue:e.gptConfig.promptTemplate,label:F("labels.promptTemplate"),multiline:!0,autoAdjustHeight:!0,onChange:(h,E)=>{e.updatePropertyGptConfig("promptTemplate",E||"")},"aria-labelledby":s,onRenderLabel:h=>t.jsx(M,{labelId:s,fieldId:o,helpText:F("helpTexts.promptTemplate"),label:h?.label})}),t.jsx(de,{id:r,className:W.chatSettingsSeparator,label:F("labels.temperature"),type:"number",min:0,max:1,step:.1,defaultValue:e.gptConfig.temperature.toString(),onChange:(h,E)=>{e.updatePropertyGptConfig("temperature",parseFloat(E||"0"))},"aria-labelledby":a,onRenderLabel:h=>t.jsx(M,{labelId:a,fieldId:r,helpText:F("helpTexts.temperature"),label:h?.label})}),t.jsx(de,{id:i,className:W.chatSettingsSeparator,label:"Seed",type:"text",defaultValue:e.gptConfig.seed?.toString()||"",onChange:(h,E)=>{e.updatePropertyGptConfig("seed",parseInt(E||""))},"aria-labelledby":d,onRenderLabel:h=>t.jsx(M,{labelId:d,fieldId:i,helpText:F("helpTexts.seed"),label:h?.label})}),t.jsx(de,{id:c,className:W.chatSettingsSeparator,label:F("labels.minimumSearchScore"),type:"number",min:0,step:.01,defaultValue:e.gptConfig.minimumSearchScore.toString(),onChange:(h,E)=>{e.updatePropertyGptConfig("minimumSearchScore",parseFloat(E||"0"))},"aria-labelledby":u,onRenderLabel:h=>t.jsx(M,{labelId:u,fieldId:c,helpText:F("helpTexts.searchScore"),label:h?.label})}),t.jsx(de,{id:x,className:W.chatSettingsSeparator,label:F("labels.minimumRerankerScore"),type:"number",min:1,max:4,step:.1,defaultValue:e.gptConfig.minimumRerankerScore.toString(),onChange:(h,E)=>{e.updatePropertyGptConfig("minimumRerankerScore",parseFloat(E||"0"))},"aria-labelledby":p,onRenderLabel:h=>t.jsx(M,{labelId:p,fieldId:x,helpText:F("helpTexts.rerankerScore"),label:h?.label})}),t.jsx(de,{id:j,className:W.chatSettingsSeparator,label:F("labels.retrieveCount"),type:"number",min:1,max:50,defaultValue:e.gptConfig.retrieveCount.toString(),onChange:(h,E)=>{e.updatePropertyGptConfig("retrieveCount",parseInt(E||"3"))},"aria-labelledby":w,onRenderLabel:h=>t.jsx(M,{labelId:w,fieldId:j,helpText:F("helpTexts.retrieveNumber"),label:h?.label})}),t.jsx(de,{id:v,className:W.chatSettingsSeparator,label:F("labels.excludeCategory"),defaultValue:e.gptConfig.excludeCategory,onChange:(h,E)=>{e.updatePropertyGptConfig("excludeCategory",E||"")},"aria-labelledby":m,onRenderLabel:h=>t.jsx(M,{labelId:m,fieldId:v,helpText:F("helpTexts.excludeCategory"),label:h?.label})}),t.jsx(he,{id:b,className:W.chatSettingsSeparator,checked:e.optionsConfig.useSemanticRanker,label:F("labels.useSemanticRanker"),onChange:U,"aria-labelledby":f,onRenderLabel:h=>t.jsx(M,{labelId:f,fieldId:b,helpText:F("helpTexts.useSemanticReranker"),label:h?.label})}),t.jsx(he,{id:C,className:W.chatSettingsSeparator,checked:e.gptConfig.useSemanticCaptions,label:F("labels.useSemanticCaptions"),onChange:(h,E)=>{e.updatePropertyGptConfig("useSemanticCaptions",!!E)},disabled:!e.optionsConfig.useSemanticRanker,"aria-labelledby":P,onRenderLabel:h=>t.jsx(M,{labelId:P,fieldId:C,helpText:F("helpTexts.useSemanticCaptions"),label:h?.label})}),t.jsx(he,{id:A,className:W.chatSettingsSeparator,checked:e.gptConfig.useSuggestFollowupQuestions,label:F("labels.useSuggestFollowupQuestions"),onChange:(h,E)=>{e.updatePropertyGptConfig("useSuggestFollowupQuestions",!!E)},"aria-labelledby":I,onRenderLabel:h=>t.jsx(M,{labelId:I,fieldId:A,helpText:F("helpTexts.suggestFollowupQuestions"),label:h?.label})}),e.optionsConfig.showGPT4VOptions&&t.jsx(Rr,{gpt4vInputs:e.gptConfig.gpt4vInput,isUseGPT4V:e.gptConfig.useGPT4V,updateUseGPT4V:h=>{e.updatePropertyGptConfig("useGPT4V",h)},updateGPT4VInputs:h=>{e.updatePropertyGptConfig("gpt4vInput",h)}}),e.optionsConfig.showVectorOption&&t.jsx(Dr,{defaultRetrievalMode:e.retrievalMode,showImageOptions:e.gptConfig.useGPT4V&&e.optionsConfig.showGPT4VOptions,updateVectorFields:h=>e.updatePropertyGptConfig("vectorFieldList",h),updateRetrievalMode:h=>{e.setChatConfig(E=>({...E,showVectorOption:h===D.Hybrid}))}}),le&&t.jsxs(t.Fragment,{children:[t.jsx(he,{id:X,className:W.chatSettingsSeparator,checked:e.gptConfig.useOidSecurityFilter||_e,label:F("labels.useOidSecurityFilter"),disabled:!n||_e,onChange:(h,E)=>{e.updatePropertyGptConfig("useOidSecurityFilter",!!E)},"aria-labelledby":S,onRenderLabel:h=>t.jsx(M,{labelId:S,fieldId:X,helpText:F("helpTexts.useOidSecurityFilter"),label:h?.label})}),t.jsx(he,{id:k,className:W.chatSettingsSeparator,checked:e.gptConfig.useGroupsSecurityFilter||_e,label:F("labels.useGroupsSecurityFilter"),disabled:!n||_e,onChange:(h,E)=>{e.updatePropertyGptConfig("useGroupsSecurityFilter",!!E)},"aria-labelledby":K,onRenderLabel:h=>t.jsx(M,{labelId:K,fieldId:k,helpText:F("helpTexts.useGroupsSecurityFilter"),label:h?.label})})]}),t.jsx(he,{id:$,className:W.chatSettingsSeparator,checked:e.gptConfig.shouldStream,label:F("labels.shouldStream"),onChange:(h,E)=>{e.updatePropertyGptConfig("shouldStream",!!E)},"aria-labelledby":T,onRenderLabel:h=>t.jsx(M,{labelId:T,fieldId:$,helpText:F("helpTexts.streamChat"),label:h?.label})}),le&&t.jsx(Ar,{})]})},Hr="_thoughtProcess_j4orz_1",Vr="_tList_j4orz_15",qr="_tListItem_j4orz_27",Qr="_tStep_j4orz_79",Wr="_tCodeBlock_j4orz_93",Kr="_tProp_j4orz_101",Jr="_citationImg_j4orz_119",be={thoughtProcess:Hr,tList:Vr,tListItem:qr,tStep:Qr,tCodeBlock:Wr,tProp:Kr,citationImg:Jr};function Yr(e){const n=e.split(": "),s=n[0],o=jt.sanitize(n.slice(1).join(": "));return{title:s,content:o}}const Xr="_supportingContentNavList_1s8d9_1",Zr="_supportingContentItem_1s8d9_17",ei="_supportingContentItemHeader_1s8d9_43",ti="_supportingContentItemText_1s8d9_51",ni="_supportingContentItemImage_1s8d9_61",ve={supportingContentNavList:Xr,supportingContentItem:Zr,supportingContentItemHeader:ei,supportingContentItemText:ti,supportingContentItemImage:ni},si=({supportingContent:e})=>{const n=Array.isArray(e)?e:e.text,s=Array.isArray(e)?[]:e?.images;return t.jsxs("ul",{className:ve.supportingContentNavList,children:[n.map((o,a)=>{const r=Yr(o);return t.jsxs("li",{className:ve.supportingContentItem,children:[t.jsx("h4",{className:ve.supportingContentItemHeader,children:r.title}),t.jsx("p",{className:ve.supportingContentItemText,dangerouslySetInnerHTML:{__html:r.content}})]},a)}),s?.map((o,a)=>t.jsx("img",{className:ve.supportingContentItemImage,src:o.url},a))]})};var ee=(e=>(e.ThoughtProcessTab="thoughtProcess",e.SupportingContentTab="supportingContent",e.CitationTab="citation",e))(ee||{});const oi=({thoughts:e})=>t.jsx("ul",{className:be.tList,children:e.map((n,s)=>t.jsxs("li",{className:be.tListItem,children:[t.jsx("div",{className:be.tStep,children:n.title}),t.jsx(B,{horizontal:!0,tokens:{childrenGap:5},children:n.props&&(Object.keys(n.props)||[]).map(o=>t.jsxs("span",{className:be.tProp,children:[o,": ",JSON.stringify(n.props?.[o])]}))}),Array.isArray(n.description)?t.jsx(fn,{language:"json",wrapLongLines:!0,className:be.tCodeBlock,children:JSON.stringify(n.description,null,2)}):t.jsx("div",{children:n.description})]},s))}),ai="_downloadButton_11qw1_1",ri="_markdownViewer_11qw1_11",ii="_loading_11qw1_29",li="_error_11qw1_41",ci="_markdown_11qw1_11",ue={downloadButton:ai,markdownViewer:ri,loading:ii,error:li,markdown:ci},di=({src:e})=>{const[n,s]=l.useState(""),[o,a]=l.useState(!0),[r,d]=l.useState(null),{t:i}=L(),u=c=>{const p=/<a\s+(?:[^>]*?\s+)?href=['"](#[^"']*?)['"][^>]*?>/g;return c.replace(p,"")};return l.useEffect(()=>{(async()=>{try{const p=await fetch(e);if(!p.ok)throw new Error("Failed loading markdown file.");const x=await p.text(),w=await Me.parse(x),j=u(w);s(j)}catch(p){d(p)}finally{a(!1)}})()},[e]),t.jsx("div",{children:o?t.jsx("div",{className:`${ue.loading} ${ue.markdownViewer}`,children:t.jsx(Ft,{size:zn.large,label:"Loading file"})}):r?t.jsx("div",{className:`${ue.error} ${ue.markdownViewer}`,children:t.jsxs(Hn,{messageBarType:Vn.error,isMultiline:!1,children:[r.message,t.jsx(qn,{href:e,download:!0,children:"Download the file"})]})}):t.jsxs("div",{children:[t.jsx(ne,{className:ue.downloadButton,style:{color:"black"},iconProps:{iconName:"Save"},title:i("tooltips.save"),ariaLabel:"Save",href:e,download:!0}),t.jsx("div",{className:`${ue.markdown} ${ue.markdownViewer}`,dangerouslySetInnerHTML:{__html:n}})]})})},ze={disabled:!0,style:{color:"grey"}},ui=({answer:e,activeTab:n,activeCitation:s,citationHeight:o,className:a,onActiveTabChanged:r})=>{const d=!e.context.thoughts,i=!e.context.data_points,u=!s,[c,p]=l.useState(""),x=le?se().instance:void 0,{t:w}=L(),j=async()=>{const v=x?await V(x):void 0;if(s){const f=s.indexOf("#")?s.split("#")[1]:"",P=await(await fetch(s,{method:"GET",headers:await q(v)})).blob();let C=URL.createObjectURL(P);f&&(C+="#"+f),p(C)}};l.useEffect(()=>{j()},[]);const m=()=>{if(!s)return null;switch(s.split(".").pop()?.toLowerCase()){case"png":return t.jsx("img",{src:c,className:be.citationImg,alt:"Citation Image"});case"md":return t.jsx(di,{src:s});default:return t.jsx("iframe",{title:"Citation",src:c,width:"100%",height:o})}};return t.jsxs(Qn,{className:a,selectedKey:n,onLinkClick:v=>v&&r(v.props.itemKey),children:[t.jsx(De,{itemKey:ee.ThoughtProcessTab,headerText:w("headerTexts.thoughtProcess"),headerButtonProps:d?ze:void 0,children:t.jsx(oi,{thoughts:e.context.thoughts||[]})}),t.jsx(De,{itemKey:ee.SupportingContentTab,headerText:w("headerTexts.supportingContent"),headerButtonProps:i?ze:void 0,children:t.jsx(si,{supportingContent:e.context.data_points})}),t.jsx(De,{itemKey:ee.CitationTab,headerText:w("headerTexts.citation"),headerButtonProps:u?ze:void 0,children:m()})]})},pi="_container_17fy6_1",hi="_clearChatIcon_17fy6_17",Ct={container:pi,clearChatIcon:hi},mi=({className:e,disabled:n,onClick:s})=>{const{t:o}=L();return t.jsx("div",{className:`${Ct.container} ${e??""}`,children:t.jsx(oe,{icon:t.jsx("img",{src:"./restart.svg",alt:"Clear Chat Icon",className:Ct.clearChatIcon}),style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"16px"},disabled:n,onClick:s,children:o("clearChat")})})},gi="_container_5ljyb_1",fi="_callout_5ljyb_17",xi="_list_5ljyb_27",bi="_item_5ljyb_39",Ce={container:gi,callout:fi,list:xi,item:bi};function Si(e){return e.reduce((n,s)=>(n[s.id]=s,n),{})}const Ot=l.createContext(void 0);function yi({children:e}){const[n,s]=l.useState(It()),[o,a]=l.useState([]),[r,d]=l.useState([]),[i,u]=l.useState(!1),[c,p]=l.useState([]),[x,w]=l.useState({}),[j,m]=l.useState({}),v=P=>{w(C=>({...C,[P.id]:P}))},f=(P,C)=>{const A=[...j[C]??[],P];m(S=>({...S,[C]:A}))},b=(P,C)=>{const A=j[C].filter(S=>S!==P);A.length===0?m(S=>{const{[C]:X,...K}=S;return K}):m(S=>({...S,[C]:A}))};return t.jsx(Ot.Provider,{value:{chatId:n,setChatId:s,answers:o,setAnswers:a,files:r,setFiles:d,allFiles:j,setAllFiles:m,addToAllFiles:f,removeFromAllFiles:b,isConfigPanelOpen:i,setIsConfigPanelOpen:u,streamedAnswers:c,setStreamedAnswers:p,allSidebarChats:x,setAllSidebarChats:w,updateSidebarChats:v},children:e})}const Ge=()=>{const e=l.useContext(Ot);if(!e)throw new Error("useChatManager must be used within a ChatManagerProvider");return e},wi=({className:e,disabled:n})=>{const[s,o]=l.useState(!1),[a,r]=l.useState(!0),[d,i]=l.useState(!0),[u,c]=l.useState({}),[p,x]=l.useState(),[w,j]=l.useState(),[m,v]=l.useState([]),{t:f}=L(),{chatId:b,addToAllFiles:P,removeFromAllFiles:C}=Ge();if(!le)throw new Error("The UploadFile component requires useLogin to be true");const I=se().instance,A=async()=>{o(!s);try{const k=await V(I);if(!k)throw new Error("No authentication token available");S(k)}catch(k){console.error(k),i(!1)}},S=async k=>{ks(b,k).then(T=>{i(!1),c({}),v(T)})},X=async k=>{c({...u,[k]:"pending"});try{const T=await V(I);if(!T)throw new Error("No authentication token available");await Nt(k,b,T),c({...u,[k]:"success"}),S(T),C(k,b)}catch(T){c({...u,[k]:"error"}),console.error(T)}},K=async k=>{if(k.preventDefault(),!k.target.files||k.target.files.length===0)return;r(!0);const T=k.target.files[0],$=new FormData;$.append("file",T),$.append("chatId",b);try{const U=await V(I);if(!U)throw new Error("No authentication token available");const h=await Ts($,U);x(f("upload.uploadedFileSuccess")),r(!1),j(void 0),S(U),h.filename?P(h.filename,b):console.warn("No filename returned")}catch(U){console.error(U),r(!1),j(f("upload.uploadedFileError"))}};return t.jsx("div",{className:`${Ce.container} ${e??""}`,children:t.jsxs("div",{children:[t.jsx(oe,{id:"calloutButton",style:{gap:"4px"},icon:t.jsx(An,{}),disabled:n,onClick:A,children:f("upload.manageFileUploads")}),s&&t.jsxs(Et,{role:"dialog",gapSpace:0,className:Ce.callout,target:"#calloutButton",onDismiss:()=>o(!1),setInitialFocus:!0,children:[t.jsx("form",{encType:"multipart/form-data",children:t.jsxs("div",{children:[t.jsx(Pt,{children:f("upload.fileLabel")}),t.jsx("input",{accept:".txt, .md, .json, .png, .jpg, .jpeg, .bmp, .heic, .tiff, .pdf, .docx, .xlsx, .pptx, .html",className:Ce.chooseFiles,type:"file",onChange:K})]})}),a&&t.jsx(we,{children:f("upload.uploadingFiles")}),!a&&w&&t.jsx(we,{children:w}),!a&&p&&t.jsx(we,{children:p}),t.jsx("h3",{children:f("upload.uploadedFilesLabel")}),d&&t.jsx(we,{children:f("upload.loading")}),!d&&m.length===0&&t.jsx(we,{children:f("upload.noFilesUploaded")}),m.map((k,T)=>t.jsxs("div",{className:Ce.list,children:[t.jsx("div",{className:Ce.item,children:k}),t.jsxs(oe,{icon:t.jsx(Ln,{}),onClick:()=>X(k),disabled:u[k]==="pending"||u[k]==="success",children:[!u[k]&&f("upload.deleteFile"),u[k]=="pending"&&f("upload.deletingFile"),u[k]=="error"&&f("upload.errorDeleting"),u[k]=="success"&&f("upload.fileDeleted")]})]},T))]})]})})};function vi(e){const n=[];for(let s=1;s<=e;s++)n.push(s);return n}const Ci="_loadingAnimation_1mw77_1",_i="_loadingBar_1mw77_8",Ti="_pulse_1mw77_1",_t={loadingAnimation:Ci,loadingBar:_i,pulse:Ti},ki=e=>t.jsx("div",{className:_t.loadingAnimation,children:vi(e.numberLoadingBars).map(n=>t.jsx("div",{className:_t.loadingBar,style:{height:e.loadingBarHeight}},n))}),ji="_promptMenu_r5mzp_1",Ii="_promptItemsMissing_r5mzp_6",Pi="_clickablePrompt_r5mzp_13",Ei="_userPromptContainer_r5mzp_23",Fi="_deletePromptButton_r5mzp_33",Ai="_itemsContainer_r5mzp_44",me={promptMenu:ji,promptItemsMissing:Ii,clickablePrompt:Pi,userPromptContainer:Ei,deletePromptButton:Fi,itemsContainer:Ai};var ke=(e=>(e.GLOBAL="Global",e.USER="User",e))(ke||{});const Li="_clickableItem_1ah8n_1",Ni={clickableItem:Li},$e=e=>t.jsx("div",{className:`${Ni.clickableItem} ${e.className?e.className:""}`,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,children:e.children},e.key),Bi="_dropdownMenu_16dg5_1",$i={dropdownMenu:Bi},Mi=(e,n,s,o)=>r=>{e&&n.current&&!n.current.contains(r.target)&&s.current&&!s.current.contains(r.target)&&o(!1)},Dt=e=>t.jsx("div",{ref:e.menuRef,className:`${$i.dropdownMenu} ${e.className?e.className:""}`,style:{...e.getMenuPosition(),...e.style},children:e.children});function Ut(e){if(e){const n=e.getBoundingClientRect();return{top:`${n.top+n.height+2}px`,left:`${n.left-2}px`}}else return{top:"0px",left:"0px"}}function Ri(e){if(e){const n=e.getBoundingClientRect();return{bottom:`${window.innerHeight-n.bottom-13}px`,right:`${window.innerWidth-n.left+15}px`}}else return{bottom:"0px",right:"0px"}}const zt=e=>{const[n,s]=l.useState(!1),o=l.useRef(null),a=()=>{s(!n)};return l.useEffect(()=>{const r=Mi(n,e,o,s);return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[n]),{toggleLoadPromptMenu:a,buttonRefDropdownMenu:o,isDropdownMenuOpen:n}},Gi="_toggleSwitchContainer_162k8_1",Oi="_toggleSwitch_162k8_1",Di="_toggleButton_162k8_15",Ui="_active_162k8_26",Le={toggleSwitchContainer:Gi,toggleSwitch:Oi,toggleButton:Di,active:Ui},zi=({optionSelected:e,toggleOptionSelected:n,toggleButtonChoices:s,className:o})=>t.jsx("div",{className:`${Le.toggleSwitchContainer} ${o??""}`,children:t.jsx("div",{className:Le.toggleSwitch,children:Object.values(s).map(a=>t.jsx("button",{className:`${Le.toggleButton} ${e===a?Le.active:""}`,onClick:()=>n(a),children:a},a))})}),Hi="_dotStyle_2fqae_1",Vi="_optionsButtonDiv_2fqae_9",qi="_optionsButton_2fqae_9",Ke={dotStyle:Hi,optionsButtonDiv:Vi,optionsButton:qi},He=()=>t.jsx("div",{className:Ke.dotStyle}),Qi=e=>t.jsx("div",{className:Ke.optionsButtonDiv,children:t.jsx("button",{onClick:()=>{e.toggleLoadPromptMenu()},className:Ke.optionsButton,ref:e.buttonRefDropdownMenu,children:t.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"3px"},children:[t.jsx(He,{}),t.jsx(He,{}),t.jsx(He,{})]})})}),Wi=e=>{const n=e.userPrompts.concat(e.globalPrompts);return t.jsx("div",{className:me.itemsContainer,children:n.length===0?t.jsx(ki,{numberLoadingBars:4,loadingBarHeight:"22px"}):e.pageSelected===ke.USER&&e.userPrompts.length===0?t.jsx("div",{className:me.promptItemsMissing,children:"No user prompts found"}):n.filter(s=>s.source.toLowerCase()===e.pageSelected.toLowerCase()).map(s=>e.pageSelected===ke.USER?t.jsxs("div",{className:me.userPromptContainer,children:[t.jsx($e,{onClick:()=>e.handlePromptClick(s.prompt),onMouseEnter:()=>e.handlePromptHovered(s.prompt),onMouseLeave:()=>e.handlePromptUnhovered(),className:me.clickablePrompt,children:s.title},s.title),t.jsx(oe,{icon:t.jsx("img",{src:"./trash-alt.svg",alt:"Chat Bot Icon",style:{width:"18px",height:"18px",marginLeft:"1px"}}),className:me.deletePromptButton,onClick:()=>e.deleteUserPrompt(s.id)})]}):t.jsx($e,{onClick:()=>e.handlePromptClick(s.prompt),onMouseEnter:()=>e.handlePromptHovered(s.prompt),onMouseLeave:()=>e.handlePromptUnhovered(),className:me.clickablePrompt,children:s.title},s.title))})},Ki=({userPrompts:e,globalPrompts:n,menuRef:s,toggleMenuSection:o,menuSectionSelected:a,handlePromptClick:r,handlePromptHovered:d,handlePromptUnhovered:i,deleteUserPrompt:u,getMenuPosition:c})=>t.jsxs(Dt,{getMenuPosition:c,style:{backgroundColor:"white",paddingTop:"0.4rem",borderRadius:"8px",display:"flex",flexDirection:"column"},menuRef:s,className:me.promptMenu,children:[t.jsx(zi,{toggleOptionSelected:o,optionSelected:a,toggleButtonChoices:ke}),t.jsx(Wi,{globalPrompts:n,userPrompts:e,pageSelected:a,handlePromptClick:r,handlePromptHovered:d,handlePromptUnhovered:i,deleteUserPrompt:u})]}),Ji=()=>{const[e,n]=l.useState(ke.GLOBAL);return{menuSectionSelected:e,toggleMenuSection:o=>{n(o)}}};async function Yi(e,n){if(!["global","user"].includes(n))throw new Error(`Invalid prompt type: ${n}`);const s=await q(e);console.log("Making call to prompts API"),console.log(n);const o=await fetch(`/${n}_prompts/items`,{method:"GET",headers:{...s,"Content-Type":"application/json"}});if(console.log(`Got prompt response ${o}`),!o.ok)throw new Error(`Getting ${n} prompts failed: ${o.statusText}`);const a=await o.json();return console.log("Sending back prompts"),a}async function Xi(e,n,s){const o=await q(e),a=await el(n),r=await fetch("/user_prompts/add",{method:"POST",headers:{...o,"Content-Type":"application/json"},body:JSON.stringify({id:a,title:s,prompt:n})});if(!r.ok)throw new Error(`Adding new prompt failed: ${r.statusText}`);return await r.json()}async function Zi(e,n){const s=await q(e),o=await fetch(`/user_prompts/delete/${n}`,{method:"POST",headers:{...s,"Content-Type":"application/json"}});if(!o.ok)throw new Error(`Deleting user prompt failed: ${o.statusText}`);return o}const el=async e=>{const s=new TextEncoder().encode(e),o=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(o)).map(r=>r.toString(16).padStart(2,"0")).join("")},tl=(e,n)=>{const{t:s}=L(),[o,a]=l.useState(s("defaultExamples.placeholder")),[r,d]=l.useState("");return{placeholder:o,setPlaceholder:a,setPreviousQuestion:d,handlePromptClick:p=>{n(p),d("")},handlePromptHovered:p=>{e&&d(e),n(""),a(p)},handlePromptUnhovered:()=>{r&&n(r),a(s("defaultExamples.placeholder"))}}},nl=(e,n)=>{const[s,o]=l.useState([]),[a,r]=l.useState([]),d=async i=>{console.log("Getting prompts"),console.log(i);const u=await V(e);if(u){const c=await Yi(u,i);if(c.forEach(p=>{p.source=i}),i==="global")o(c);else if(i==="user")r(c);else throw new Error("Invalid prompt type")}else throw new Error("No authentication token available")};return l.useEffect(()=>{n&&(console.log("Getting logged in prompts",n),d("global"),d("user"))},[n]),{onlyGlobalPrompts:s,onlyUserPrompts:a,getPrompts:d}},sl=(e,n)=>{const[s,o]=l.useState(!1);return{savePromptButtonRef:l.useRef(null),openSavePromptMenu:s,setOpenSavePromptMenu:o,handleSavePrompt:async(i,u)=>{const c=await V(e);if(c)console.log("Saving prompt and refetching user prompts"),await Xi(c,u,i),n("user");else throw new Error("No authentication token available while saving prompt");o(!1)},deleteUserPrompt:async i=>{const u=await V(e);if(!u)throw new Error("No authentication token available");const c=await Zi(u,i);if(!c.ok)throw new Error(c.statusText);n("user"),console.log("Done deletingg")}}},ol="_menuOverlay_ro7pm_1",al="_menuContainer_ro7pm_14",rl="_menuHeader_ro7pm_24",il="_closeButton_ro7pm_33",ll="_menuContent_ro7pm_40",cl="_shortInput_ro7pm_52",dl="_longInput_ro7pm_59",ul="_menuFooter_ro7pm_67",pl="_cancelButton_ro7pm_74",hl="_saveButton_ro7pm_75",ml="_enabled_ro7pm_87",gl="_disabled_ro7pm_93",J={menuOverlay:ol,menuContainer:al,menuHeader:rl,closeButton:il,menuContent:ll,shortInput:cl,longInput:dl,menuFooter:ul,cancelButton:pl,saveButton:hl,enabled:ml,disabled:gl},fl=({onClose:e,onSave:n,reloadUserPrompts:s})=>{const{t:o}=L(),[a,r]=l.useState(""),[d,i]=l.useState(""),[u,c]=l.useState(!1),p=()=>{n(a,d),s()};return l.useEffect(()=>{c(!!(a&&d))},[a,d]),t.jsx("div",{className:J.menuOverlay,children:t.jsxs("div",{className:J.menuContainer,children:[t.jsxs("div",{className:J.menuHeader,children:[t.jsx("h2",{children:o("savePrompt.title")}),t.jsx("button",{className:J.closeButton,onClick:e,children:"×"})]}),t.jsxs("div",{className:J.menuContent,children:[t.jsx("h3",{children:o("savePrompt.name")}),t.jsx("input",{type:"text",placeholder:o("savePrompt.namePlaceholder"),className:J.shortInput,onChange:x=>r(x.target.value)}),t.jsx("h3",{children:o("savePrompt.promptHeader")}),t.jsx("textarea",{placeholder:o("savePrompt.promptHeaderPlaceholder"),maxLength:1e5,className:J.longInput,onChange:x=>i(x.target.value)})]}),t.jsxs("div",{className:J.menuFooter,children:[t.jsx("button",{className:J.cancelButton,onClick:e,children:o("savePrompt.cancel")}),t.jsx("button",{className:`${J.saveButton} ${u?J.enabled:J.disabled}`,onClick:p,disabled:!u,children:o("savePrompt.save")})]})]})})},xl=()=>{const[e,n]=l.useState({showGPT4VOptions:!1,useSemanticRanker:!1,showVectorOption:!1,showUserUpload:!1,showSpeechInput:!1,showSpeechOutputBrowser:!1,showSpeechOutputAzure:!1});l.useEffect(()=>{(async()=>{try{const a=await vs();n(a)}catch(a){console.error(`Error fetching model config: ${a}`)}})()},[]);var s=e.showVectorOption?D.Hybrid:D.Text;return{retrievalMode:s,chatConfig:e,setChatConfig:n}},bl=()=>{const[e,n]=l.useState({temperature:.3,seed:null,minimumSearchScore:0,minimumRerankerScore:0,retrieveCount:3,excludeCategory:"",useSemanticCaptions:!1,useSuggestFollowupQuestions:!1,useOidSecurityFilter:!1,useGroupsSecurityFilter:!1,shouldStream:!0,useGPT4V:!1,gpt4vInput:ie.TextAndImages,vectorFieldList:[Y.Embedding],promptTemplate:""});return{gptModelConfig:e,setGptModelConfig:n,updateGptModelConfig:(o,a)=>{n(r=>({...r,[o]:a}))}}};let Tt=0;const Sl=()=>{Tt++,console.log("counter",Tt),pt();const{instance:e}=se(),{t:n}=L(),{onChatStart:s}=pt(),o=l.useRef(),{toggleLoadPromptMenu:a,buttonRefDropdownMenu:r,isDropdownMenuOpen:d}=zt(o),i=l.useRef(""),u=l.useRef(null),[c,p]=l.useState(!1),[x,w]=l.useState(!1),[j,m]=l.useState(),[v,f]=l.useState(),[b,P]=l.useState(void 0),[C,I]=l.useState(0),{chatId:A,answers:S,streamedAnswers:X,setChatId:K,setAnswers:k,setStreamedAnswers:T,allSidebarChats:$,updateSidebarChats:U,isConfigPanelOpen:h,setIsConfigPanelOpen:E}=Ge(),{retrievalMode:Ie,chatConfig:ae,setChatConfig:Ht}=xl(),{gptModelConfig:N,updateGptModelConfig:Vt}=bl(),[Se,qt]=l.useState([]),Ze=l.useRef(!document.hidden);l.useEffect(()=>{const g=()=>{Ze.current=!document.hidden};return document.addEventListener("visibilitychange",g),()=>{document.removeEventListener("visibilitychange",g)}},[]);const Qt=async(g,y,R)=>{let re="",G={};const Z=Q=>new Promise(ln=>{setTimeout(()=>{re+=Q;const cn={...G,message:{content:re,role:G.message.role}};T([...y,[g,cn]]),ln(null)},33)});try{w(!0);var ce="",ut=5;for await(const Q of bn(R))if(Q.context&&Q.context.data_points)Q.message=Q.delta,G=Q;else if(Q.delta.content)p(!1),ce+=Q.delta.content,ut=Ze.current?5:100,ce.length>ut&&(await Z(ce),ce="");else if(Q.context)G.context={...G.context,...Q.context};else if(Q.error)throw Error(Q.error);ce.length>0&&(await Z(ce),ce="")}finally{w(!1)}return{...G,message:{content:re,role:G.message.role}}},Pe=le?se().instance:void 0,{loggedIn:et}=l.useContext(fe);l.useEffect(()=>{(()=>{i.current=S?.length>0?S[S?.length-1][0]:""})()},[A]);const{onlyGlobalPrompts:tt,onlyUserPrompts:nt,getPrompts:st}=nl(e,et),{savePromptButtonRef:Wt,openSavePromptMenu:ot,setOpenSavePromptMenu:at,handleSavePrompt:Kt,deleteUserPrompt:Jt}=sl(e,st),[rt,Oe]=l.useState(""),{placeholder:Yt,setPlaceholder:it,setPreviousQuestion:Xt,handlePromptClick:Zt,handlePromptHovered:en,handlePromptUnhovered:tn}=tl(rt,Oe),Ee=async g=>{console.log("User Question:",g),i.current=g,j&&m(void 0),p(!0),f(void 0),P(void 0);const y=Pe?await V(Pe):void 0;try{const re={messages:[...S.flatMap(Z=>[{content:Z[0],role:"user"},{content:Z[1].message.content,role:"assistant"}]),{content:g,role:"user"}],context:{overrides:{prompt_template:N.promptTemplate.length===0?void 0:N.promptTemplate,exclude_category:N.excludeCategory.length===0?void 0:N.excludeCategory,top:N.retrieveCount,temperature:N.temperature,minimum_reranker_score:N.minimumRerankerScore,minimum_search_score:N.minimumSearchScore,retrieval_mode:Ie,semantic_ranker:ae.useSemanticRanker,semantic_captions:N.useSemanticCaptions,suggest_followup_questions:N.useSuggestFollowupQuestions,use_oid_security_filter:N.useOidSecurityFilter,use_groups_security_filter:N.useGroupsSecurityFilter,vector_fields:N.vectorFieldList,use_gpt4v:N.useGPT4V,gpt4v_input:N.gpt4vInput,...N.seed!==null?{seed:N.seed}:{}},chatId:A},session_state:S?.length?S[S?.length-1][1].session_state:null};console.log("Request Payload:",re);const G=await Cs(re,N.shouldStream,y);if(console.log("Got response from chat api"),console.log(G),!G.body)throw Error("No response body");if(N.shouldStream){const Z=await Qt(g,S,G.body);k([...S,[g,Z]])}else{const Z=await G.json();if(G.status>299||!G.ok)throw Error(Z.error||"Unknown error");k([...S,[g,Z]])}}catch(R){m(R)}finally{p(!1)}};l.useEffect(()=>{S?.length>0&&s(!1)},[S]);const nn=()=>{s(!0),i.current="",K(""),k([]),T([]),p(!1),w(!1),Oe(""),Xt(""),it(n("defaultExamples.placeholder"))};l.useEffect(()=>{const g=async()=>{try{const y=Pe?await V(Pe):void 0;if(!y)throw new Error("No authentication token available");if(Object.keys($).includes(A))console.log("id found in allSidebarChats"),console.log(Object.keys($)),console.log(A),await Es(y,A,S,$[A].title);else{const R=await Ls(y,A,S);U(R)}}catch(y){console.error(y)}};if(!A){let y=It();console.log("Chat ID:",y),K(y)}S?.length>0&&(console.log("updating DB"),g())},[S]);const lt=l.useRef(null),[sn,on]=l.useState(!0);l.useEffect(()=>{const g=lt.current,y=()=>{if(g){const{scrollTop:R,scrollHeight:re,clientHeight:G}=g;on(re-R<=G+1)}};return g?.addEventListener("scroll",y),()=>g?.removeEventListener("scroll",y)},[X]),l.useEffect(()=>{u.current?.scrollIntoView({behavior:"smooth"})},[c]),l.useEffect(()=>{sn&&u.current?.scrollIntoView({behavior:"auto"})},[X]),l.useEffect(()=>{i.current&&s(!1)},[i.current]),l.useEffect(()=>{if(S&&ae.showSpeechOutputAzure)for(let g=0;g<S?.length;g++)Se[g]||_s(S[g][1].message.content).then(y=>{qt([...Se.slice(0,g),y,...Se.slice(g+1)])})},[S]);const ct=async g=>{await navigator.clipboard.writeText(g.message.content)},dt=(g,y)=>{console.log("index"),console.log(y),v===g&&b===ee.CitationTab&&C===y?P(void 0):(f(g),P(ee.CitationTab)),I(y)},ye=(g,y)=>{P(b===g&&C===y?void 0:g),I(y)},{menuSectionSelected:an,toggleMenuSection:rn}=Ji();return t.jsxs("div",{className:O.container,children:[t.jsx(xn,{children:t.jsx("title",{children:n("pageTitle")})}),t.jsxs("div",{className:O.chatRoot,children:[t.jsxs("div",{className:O.chatContainer,style:b?{marginLeft:"1rem",marginRight:"1rem"}:{margin:"0"},children:[i.current?t.jsxs("div",{className:O.chatMessageStream,ref:lt,children:[x&&X.map((g,y)=>t.jsxs("div",{children:[t.jsx(Ae,{message:g[0]}),t.jsx("div",{className:O.chatMessageGpt,children:t.jsx(St,{isStreaming:!0,answer:g[1],isSelected:!1,onExportWordClicked:()=>xt(g[1]),onExportExcelClicked:()=>bt(g[1]),onCitationClicked:R=>dt(R,y),onThoughtProcessClicked:()=>ye(ee.ThoughtProcessTab,y),onSupportingContentClicked:()=>ye(ee.SupportingContentTab,y),onCopyClicked:()=>ct(g[1]),onFollowupQuestionClicked:R=>Ee(R),showFollowupQuestions:N.useSuggestFollowupQuestions&&S?.length-1===y,showSpeechOutputAzure:ae.showSpeechOutputAzure,showSpeechOutputBrowser:ae.showSpeechOutputBrowser,speechUrl:Se[y]},y)})]},y)),!x&&S?.map((g,y)=>t.jsxs("div",{children:[t.jsx(Ae,{message:g[0]}),t.jsx("div",{className:O.chatMessageGpt,children:t.jsx(St,{isStreaming:!1,answer:g[1],isSelected:C===y&&b!==void 0,onExportWordClicked:()=>xt(g[1]),onExportExcelClicked:()=>bt(g[1]),onCitationClicked:R=>dt(R,y),onThoughtProcessClicked:()=>ye(ee.ThoughtProcessTab,y),onSupportingContentClicked:()=>ye(ee.SupportingContentTab,y),onCopyClicked:()=>ct(g[1]),onFollowupQuestionClicked:R=>Ee(R),showFollowupQuestions:N.useSuggestFollowupQuestions&&S?.length-1===y,showSpeechOutputAzure:ae.showSpeechOutputAzure,showSpeechOutputBrowser:ae.showSpeechOutputBrowser,speechUrl:Se[y]},y)})]},y)),c&&t.jsxs(t.Fragment,{children:[t.jsx(Ae,{message:i.current}),t.jsx("div",{className:O.chatMessageGptMinWidth,children:t.jsx(Sr,{})})]}),j?t.jsxs(t.Fragment,{children:[t.jsx(Ae,{message:i.current}),t.jsx("div",{className:O.chatMessageGptMinWidth,children:t.jsx(yr,{error:j.toString(),onRetry:()=>Ee(i.current)})})]}):null,t.jsx("div",{ref:u})]}):t.jsxs("div",{className:O.chatEmptyState,children:[t.jsx("img",{src:"https://stchatbothostprodeuw001.blob.core.windows.net/publiccontent/GSK42_Logo_RGB.png",alt:"Chat logo","aria-hidden":"true",width:"45%",className:O.gskLogo}),t.jsx("h1",{className:O.chatEmptyStateSubtitle,children:n("chatEmptyStateSubtitle")})]}),t.jsxs("div",{className:O.chatInput,style:{position:!i.current||b?"static":"absolute"},children:[t.jsxs("div",{className:O.commandsContainer,children:[t.jsx(mi,{className:O.commandButton,onClick:nn,disabled:!i.current||c}),t.jsx(wi,{className:O.commandButton,disabled:!et})]}),t.jsx(Pr,{clearOnSend:!0,handlePlaceholder:it,placeholder:Yt,disabled:c,onSend:g=>Ee(g),showSpeechInput:ae.showSpeechInput,toggleLoadPromptMenu:a,loadPromptButtonRef:r,toggleSavePromptMenu:()=>{at(!ot)},savePromptButtonRef:Wt,questionHandler:Oe,question:rt})]}),d&&tt&&nt&&t.jsx(Ki,{userPrompts:nt,globalPrompts:tt,handlePromptClick:Zt,handlePromptHovered:en,handlePromptUnhovered:tn,menuRef:o,toggleMenuSection:rn,menuSectionSelected:an,deleteUserPrompt:Jt,getMenuPosition:i.current?()=>Ri(r.current):()=>Ut(r.current)}),ot&&t.jsx(fl,{onSave:Kt,onClose:()=>at(!1),reloadUserPrompts:()=>st("user")})]}),S?.length>0&&b&&t.jsx(ui,{className:O.chatAnalysisPanel,activeCitation:v,onActiveTabChanged:g=>ye(g,C),citationHeight:"810px",answer:S[C][1],activeTab:b}),t.jsx(zr,{isConfigPanelOpen:h,gptConfig:N,optionsConfig:ae,retrievalMode:Ie,setIsConfigPanelOpen:E,setChatConfig:Ht,updatePropertyGptConfig:Vt})]})]})},yl="_layout_1fe5k_1",wl="_topLevelLayout_1fe5k_25",vl="_header_1fe5k_37",Cl="_headerContainer_1fe5k_51",_l="_headerCompanyLogo_1fe5k_69",Tl="_menuToggle_1fe5k_91",kl="_loginMenuContainer_1fe5k_111",jl="_headerRightText_1fe5k_125",pe={layout:yl,topLevelLayout:wl,header:vl,headerContainer:Cl,headerCompanyLogo:_l,menuToggle:Tl,loginMenuContainer:kl,headerRightText:jl},Il="_loginButton_tq6kx_1",Pl={loginButton:Il},El=()=>{const{instance:e}=se(),{loggedIn:n,setLoggedIn:s}=l.useContext(fe),o=e.getActiveAccount(),[a,r]=l.useState(""),{t:d}=L();l.useEffect(()=>{(async()=>{r(await Ne(e)??"")})()},[]);const i=()=>{e.loginPopup({...fs,redirectUri:At()}).catch(c=>console.log(c)).then(async()=>{s(await We(e)),r(await Ne(e)??"")})},u=()=>{o?e.logoutPopup({mainWindowRedirectUri:"/",account:e.getActiveAccount()}).catch(c=>console.log(c)).then(async()=>{s(await We(e)),r(await Ne(e)??"")}):Ss()};return t.jsx(Ye,{text:n?`${d("logout")}
${a}`:`${d("login")}`,className:Pl.loginButton,onClick:n?u:i})},Fl="_localeSwitcher_jaf71_1",Al="_localeFlag_jaf71_47",Ve={localeSwitcher:Fl,localeFlag:Al},Ll={en:"us",de:"de",fr:"fr"},Nl=({onLanguageChange:e})=>{const{i18n:n}=L(),s=(d,i)=>{e(i?.data||n.language)},o=_("localSwitcher"),{t:a}=L(),r=Ll[n.language]||n.language;return t.jsxs("div",{className:Ve.localeSwitcher,children:[t.jsx("img",{src:`https://flagcdn.com/h40/${r}.png`,alt:`${n.language} flag`,className:Ve.localeFlag}),t.jsx(Be,{id:o,selectedKey:n.language,options:Object.entries(Re).map(([d,i])=>({key:d,text:i.name,selected:d===n.language,data:d})),onChange:s,ariaLabel:a("labels.languagePicker"),placeholder:a("labels.selectLanguage"),className:Ve.customDropdown})]})},Bl="_containerStyle_d7woi_1",$l="_chatsContainer_d7woi_11",Ml="_headerCompanyLogoPosition_d7woi_15",Rl="_headerLogo_d7woi_23",Gl="_chatHistoryItem_d7woi_29",Ol="_chatHistorySection_d7woi_47",Dl="_chatHistorySectionTitle_d7woi_51",Ul="_chatIcon_d7woi_57",zl="_chatHistoryTitle_d7woi_64",Hl="_chatHistoryChangeTitle_d7woi_72",Vl="_chatHistoryDeleteButton_d7woi_80",ql="_chatHistoryStack_d7woi_89",Ql="_stackItem_d7woi_94",Wl="_chatItemOptions_d7woi_98",H={containerStyle:Bl,chatsContainer:$l,headerCompanyLogoPosition:Ml,headerLogo:Rl,chatHistoryItem:Gl,chatHistorySection:Ol,chatHistorySectionTitle:Dl,chatIcon:Ul,chatHistoryTitle:zl,chatHistoryChangeTitle:Hl,chatHistoryDeleteButton:Vl,chatHistoryStack:ql,stackItem:Ql,chatItemOptions:Wl},Kl=({pastChat:e,files:n})=>{const{t:s}=L(),{setChatId:o,setAnswers:a,setStreamedAnswers:r,allSidebarChats:d,setAllSidebarChats:i}=Ge(),{instance:u}=se(),c=l.useRef(null),[p,x]=l.useState(!1),[w,j]=l.useState(e.title?.replace(/"/g,"")),m=l.useRef(null),v=l.useRef(),{toggleLoadPromptMenu:f,buttonRefDropdownMenu:b,isDropdownMenuOpen:P}=zt(v),C=async()=>{const T={...d};delete T[e.id],i(T);const $=await V(u);if(!$)throw new Error("No authentication token available");const U=await As($,e.id);if(U.ok)n.forEach(h=>Nt(h,e.id,$));else throw new Error(U.statusText)},I=async()=>{try{const T=await V(u);if(!T)throw new Error("No authentication token available");const $=await Ps(T,e.id);a($[0].answers),r($[0].answers)}catch(T){console.error(T)}},A=async()=>{try{const T=await V(u);if(!T)throw new Error("No authentication token available");const $=await Fs(T,e.id,w),U={...d,[e.id]:$};i(U)}catch(T){console.error(T)}},S=async()=>{await I(),o(e.id)},X=()=>{x(!0),setTimeout(()=>m.current?.focus(),0)},K=()=>{x(!1),console.log("Sending title to backend",w),A()},k=T=>{j(T.target.value)};return t.jsxs(B.Item,{className:H.chatHistoryItem,children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[t.jsx(oe,{onClick:p?void 0:S,style:{padding:"0",minWidth:"0",width:"100%",height:"auto",textAlign:"left"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%"},ref:c,children:[t.jsx("img",{src:"./chat-conversation.svg",alt:"Chat Bot Icon",className:H.chatIcon}),p?t.jsx("input",{ref:m,type:"text",value:w,onChange:k,onBlur:K,onKeyDown:T=>T.key==="Enter"&&K(),className:"border rounded p-1 focus:outline-none"}):t.jsx("span",{className:H.chatHistoryTitle,children:w}),n.length>0?t.jsx("img",{src:"./attachment.svg",alt:"File Attachment Icon",className:H.chatIcon}):t.jsx(t.Fragment,{})]})}),t.jsx(Qi,{toggleLoadPromptMenu:f,buttonRefDropdownMenu:b})]}),P?t.jsxs(Dt,{className:H.chatItemOptions,menuRef:v,getMenuPosition:()=>Ut(b.current),children:[t.jsx($e,{onClick:X,className:H.chatHistoryChangeTitle,children:s("updateTitle")},`${e.id}_update`),t.jsx($e,{onClick:()=>{C().catch(T=>console.error("Error deleting chat:",T))},className:H.chatHistoryDeleteButton,children:s("delete")},`${e.id}_delete`)]}):t.jsx(t.Fragment,{})]})},Jl="_modalContainer_2n1b4_1",Yl="_modalContent_2n1b4_21",Xl="_input_2n1b4_51",Zl="_button_2n1b4_63",qe={modalContainer:Jl,modalContent:Yl,input:Xl,button:Zl},ec=({isOpen:e,onRequestClose:n,onPasswordSubmit:s})=>{const[o,a]=l.useState(""),r=d=>{d.preventDefault(),s(o)};return t.jsx(Sn,{isOpen:e,onRequestClose:n,contentLabel:"Password Modal",children:t.jsxs("div",{className:qe.modalContent,children:[t.jsx("h2",{children:"Passwort eingeben:"}),t.jsxs("form",{onSubmit:r,children:[t.jsx("input",{type:"password",value:o,onChange:d=>a(d.target.value),className:qe.input}),t.jsx("button",{type:"submit",className:qe.button,children:"Bestätigen"})]})]})})},tc="_container_nwwgz_1",nc={container:tc},sc=({className:e,onClick:n})=>{const[s,o]=l.useState(!1),a=()=>{o(!0)},r=d=>{d==="GSK1234!"?(o(!1),n()):alert("Falsches Passwort")};return t.jsxs("div",{className:`${nc.container} ${e??""}`,children:[t.jsx(oe,{icon:t.jsx(Nn,{}),onClick:a,children:F("developerSettings")}),t.jsx(ec,{isOpen:s,onRequestClose:()=>o(!1),onPasswordSubmit:r})]})};var te=(e=>(e[e.PENDING=0]="PENDING",e[e.SUCCESS=1]="SUCCESS",e[e.SUCCESS_EMPTY=2]="SUCCESS_EMPTY",e[e.FAILED=3]="FAILED",e))(te||{});function oc(e){var n=[],s=[],o=[];const r=new Date().setHours(0,0,0,0)/1e3,d=24*60*60,i=r-7*d;return e.forEach(c=>{c._ts>=r?n.push(c):c._ts>=i&&c._ts<r?s.push(c):o.push(c)}),n.sort((c,p)=>p._ts-c._ts),{today:n,lastWeek:s,older:o}}const ac=(e,n)=>{const{instance:s}=se(),[o,a]=l.useState(te.PENDING),[r,d]=l.useState(void 0),i=p=>{d(oc(p)),p.length===0?a(te.SUCCESS_EMPTY):a(te.SUCCESS)};return{getChatsOfUser:async()=>{a(te.PENDING);try{const p=await V(s);if(!p)throw a(te.FAILED),new Error("No authentication token available");const x=await Is(p);e(Si(x)),i(x)}catch(p){a(te.FAILED),console.error(p)}},getFilesOfUserChats:async()=>{try{const p=await V(s);if(p){const x=await js(p);n(x)}else throw new Error("No authentication token available")}catch(p){console.error(p)}},categorizeChats:i,historyRetrieved:o,pastChatsCategorized:r}},Qe=({chats:e,sectionTitle:n,files:s})=>t.jsxs("div",{className:H.chatHistorySection,children:[t.jsx("p",{className:H.chatHistorySectionTitle,children:n}),t.jsx(B,{tokens:{childrenGap:10},children:e.map((o,a)=>t.jsx(Kl,{pastChat:o,files:s[o.id]??[]},o.id))})]}),rc=()=>{const{loggedIn:e}=l.useContext(fe),{t:n}=L(),{instance:s}=se(),{allSidebarChats:o,setAllSidebarChats:a,allFiles:r,setAllFiles:d,setIsConfigPanelOpen:i,isConfigPanelOpen:u}=Ge(),[c,p]=l.useState(""),[x,w]=l.useState(!1),{getChatsOfUser:j,getFilesOfUserChats:m,categorizeChats:v,historyRetrieved:f,pastChatsCategorized:b}=ac(a,d);return l.useEffect(()=>{c&&(async()=>{const C=await ws();console.log("adminUser: ",C),console.log("username: ",c),w(c===C.user)})()},[c]),l.useEffect(()=>{console.log("IS USER ADMIN changed",x)},[x]),l.useEffect(()=>{const P=async()=>{p(await Ne(s)??"")};e&&(console.log("logged in getting username for chat history"),P(),j(),m())},[e]),l.useEffect(()=>{v(Object.values(o))},[o]),t.jsxs("div",{className:H.containerStyle,children:[t.jsx("div",{className:H.headerCompanyLogoPosition,children:t.jsx("img",{src:"https://stchatbothostprodeuw001.blob.core.windows.net/publiccontent/GSK42_Logo_RGB.png",alt:"Chat logo in header",className:H.headerLogo})}),t.jsx("div",{className:H.chatsContainer,children:f===te.SUCCESS&&b?t.jsxs(t.Fragment,{children:[b.today.length>0?t.jsx(Qe,{sectionTitle:n("chatHistory.today"),chats:b.today,files:r}):t.jsx(t.Fragment,{}),b.lastWeek.length>0?t.jsx(Qe,{sectionTitle:n("chatHistory.lastWeek"),chats:b.lastWeek,files:r}):t.jsx(t.Fragment,{}),b.older.length>0?t.jsx(Qe,{sectionTitle:n("chatHistory.older"),chats:b.older,files:r}):t.jsx(t.Fragment,{})]}):f===te.SUCCESS_EMPTY?t.jsx(t.Fragment,{children:" "}):f===te.PENDING?t.jsx(t.Fragment,{children:t.jsx(Ft,{style:{marginTop:"1rem",color:"#00839b"},label:n("chatHistory.loadingHistory")})}):t.jsx(t.Fragment,{})}),x&&t.jsx(sc,{className:H.commandButton,onClick:()=>i(!u)})]})},kt=()=>{L();const[e,n]=l.useState(!1),[s,o]=l.useState(!0),a=l.useRef(null),r=()=>{n(!e)},d=u=>{o(u)},i=u=>{a.current&&!a.current.contains(u.target)&&n(!1)};return l.useEffect(()=>(e?document.addEventListener("mousedown",i):document.removeEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}),[e]),t.jsxs("div",{className:pe.topLevelLayout,children:[t.jsx(rc,{}),t.jsxs("div",{className:pe.layout,children:[t.jsx("header",{className:pe.header,role:"banner",children:t.jsxs("div",{className:pe.headerContainer,ref:a,children:[t.jsx("h4",{className:pe.headerRightText,children:"powered by GPT4o Model Version 2024-08-06"}),t.jsx(Nl,{onLanguageChange:u=>Je.changeLanguage(u)}),t.jsxs("div",{className:pe.loginMenuContainer,children:[t.jsx(ne,{iconProps:{iconName:"GlobalNavButton"},className:pe.menuToggle,onClick:r,ariaLabel:"Toggle menu"}),le&&t.jsx(El,{})]})]})}),t.jsx(yn,{context:{onChatStart:d}})]})]})},ic=()=>{const[e,n]=l.useState(!1);if(le){var s=new wn(gs);return!s.getActiveAccount()&&s.getAllAccounts().length>0&&s.setActiveAccount(s.getActiveAccount()),s.addEventCallback(o=>{if(o.eventType===vn.LOGIN_SUCCESS&&o.payload){const a=o.payload;s.setActiveAccount(a)}}),l.useEffect(()=>{(async()=>{n(await We(s))})()},[]),t.jsx(Cn,{instance:s,children:t.jsx(fe.Provider,{value:{loggedIn:e,setLoggedIn:n},children:t.jsx(kt,{})})})}else return t.jsx(fe.Provider,{value:{loggedIn:e,setLoggedIn:n},children:t.jsx(kt,{})})};_n();const lc=Tn([{path:"/",element:t.jsx(yi,{children:t.jsx(ic,{})}),children:[{index:!0,element:t.jsx(Sl,{})},{path:"*",lazy:()=>Pn(()=>import("./NoPage-8b1862a1.js"),["assets/NoPage-8b1862a1.js","assets/vendor-fba11e89.js"])}]}]);kn.createRoot(document.getElementById("root")).render(t.jsx(jn.StrictMode,{children:t.jsx(In,{router:lc})}));
//# sourceMappingURL=index-e610d143.js.map
